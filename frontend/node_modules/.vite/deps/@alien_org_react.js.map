{
  "version": 3,
  "sources": ["../../emittery/maps.js", "../../emittery/index.js", "../../@alien_org/contract/dist/index.mjs", "../../@alien_org/bridge/dist/index.mjs", "../../@alien_org/react/dist/index.mjs"],
  "sourcesContent": ["export const anyMap = new WeakMap();\nexport const eventsMap = new WeakMap();\nexport const producersMap = new WeakMap();\n", "import {anyMap, producersMap, eventsMap} from './maps.js';\n\nconst anyProducer = Symbol('anyProducer');\nconst resolvedPromise = Promise.resolve();\n\n// Define symbols for \"meta\" events.\nconst listenerAdded = Symbol('listenerAdded');\nconst listenerRemoved = Symbol('listenerRemoved');\n\nlet canEmitMetaEvents = false;\nlet isGlobalDebugEnabled = false;\n\nconst isEventKeyType = key => typeof key === 'string' || typeof key === 'symbol' || typeof key === 'number';\n\nfunction assertEventName(eventName) {\n\tif (!isEventKeyType(eventName)) {\n\t\tthrow new TypeError('`eventName` must be a string, symbol, or number');\n\t}\n}\n\nfunction assertListener(listener) {\n\tif (typeof listener !== 'function') {\n\t\tthrow new TypeError('listener must be a function');\n\t}\n}\n\nfunction getListeners(instance, eventName) {\n\tconst events = eventsMap.get(instance);\n\tif (!events.has(eventName)) {\n\t\treturn;\n\t}\n\n\treturn events.get(eventName);\n}\n\nfunction getEventProducers(instance, eventName) {\n\tconst key = isEventKeyType(eventName) ? eventName : anyProducer;\n\tconst producers = producersMap.get(instance);\n\tif (!producers.has(key)) {\n\t\treturn;\n\t}\n\n\treturn producers.get(key);\n}\n\nfunction enqueueProducers(instance, eventName, eventData) {\n\tconst producers = producersMap.get(instance);\n\tif (producers.has(eventName)) {\n\t\tfor (const producer of producers.get(eventName)) {\n\t\t\tproducer.enqueue(eventData);\n\t\t}\n\t}\n\n\tif (producers.has(anyProducer)) {\n\t\tconst item = Promise.all([eventName, eventData]);\n\t\tfor (const producer of producers.get(anyProducer)) {\n\t\t\tproducer.enqueue(item);\n\t\t}\n\t}\n}\n\nfunction iterator(instance, eventNames) {\n\teventNames = Array.isArray(eventNames) ? eventNames : [eventNames];\n\n\tlet isFinished = false;\n\tlet flush = () => {};\n\tlet queue = [];\n\n\tconst producer = {\n\t\tenqueue(item) {\n\t\t\tqueue.push(item);\n\t\t\tflush();\n\t\t},\n\t\tfinish() {\n\t\t\tisFinished = true;\n\t\t\tflush();\n\t\t},\n\t};\n\n\tfor (const eventName of eventNames) {\n\t\tlet set = getEventProducers(instance, eventName);\n\t\tif (!set) {\n\t\t\tset = new Set();\n\t\t\tconst producers = producersMap.get(instance);\n\t\t\tproducers.set(eventName, set);\n\t\t}\n\n\t\tset.add(producer);\n\t}\n\n\treturn {\n\t\tasync next() {\n\t\t\tif (!queue) {\n\t\t\t\treturn {done: true};\n\t\t\t}\n\n\t\t\tif (queue.length === 0) {\n\t\t\t\tif (isFinished) {\n\t\t\t\t\tqueue = undefined;\n\t\t\t\t\treturn this.next();\n\t\t\t\t}\n\n\t\t\t\tawait new Promise(resolve => {\n\t\t\t\t\tflush = resolve;\n\t\t\t\t});\n\n\t\t\t\treturn this.next();\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdone: false,\n\t\t\t\tvalue: await queue.shift(),\n\t\t\t};\n\t\t},\n\n\t\tasync return(value) {\n\t\t\tqueue = undefined;\n\n\t\t\tfor (const eventName of eventNames) {\n\t\t\t\tconst set = getEventProducers(instance, eventName);\n\t\t\t\tif (set) {\n\t\t\t\t\tset.delete(producer);\n\t\t\t\t\tif (set.size === 0) {\n\t\t\t\t\t\tconst producers = producersMap.get(instance);\n\t\t\t\t\t\tproducers.delete(eventName);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tflush();\n\n\t\t\treturn arguments.length > 0\n\t\t\t\t? {done: true, value: await value}\n\t\t\t\t: {done: true};\n\t\t},\n\n\t\t[Symbol.asyncIterator]() {\n\t\t\treturn this;\n\t\t},\n\t};\n}\n\nfunction defaultMethodNamesOrAssert(methodNames) {\n\tif (methodNames === undefined) {\n\t\treturn allEmitteryMethods;\n\t}\n\n\tif (!Array.isArray(methodNames)) {\n\t\tthrow new TypeError('`methodNames` must be an array of strings');\n\t}\n\n\tfor (const methodName of methodNames) {\n\t\tif (!allEmitteryMethods.includes(methodName)) {\n\t\t\tif (typeof methodName !== 'string') {\n\t\t\t\tthrow new TypeError('`methodNames` element must be a string');\n\t\t\t}\n\n\t\t\tthrow new Error(`${methodName} is not Emittery method`);\n\t\t}\n\t}\n\n\treturn methodNames;\n}\n\nconst isMetaEvent = eventName => eventName === listenerAdded || eventName === listenerRemoved;\n\nfunction emitMetaEvent(emitter, eventName, eventData) {\n\tif (!isMetaEvent(eventName)) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tcanEmitMetaEvents = true;\n\t\temitter.emit(eventName, eventData);\n\t} finally {\n\t\tcanEmitMetaEvents = false;\n\t}\n}\n\nexport default class Emittery {\n\tstatic mixin(emitteryPropertyName, methodNames) {\n\t\tmethodNames = defaultMethodNamesOrAssert(methodNames);\n\t\treturn target => {\n\t\t\tif (typeof target !== 'function') {\n\t\t\t\tthrow new TypeError('`target` must be function');\n\t\t\t}\n\n\t\t\tfor (const methodName of methodNames) {\n\t\t\t\tif (target.prototype[methodName] !== undefined) {\n\t\t\t\t\tthrow new Error(`The property \\`${methodName}\\` already exists on \\`target\\``);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction getEmitteryProperty() {\n\t\t\t\tObject.defineProperty(this, emitteryPropertyName, {\n\t\t\t\t\tenumerable: false,\n\t\t\t\t\tvalue: new Emittery(),\n\t\t\t\t});\n\t\t\t\treturn this[emitteryPropertyName];\n\t\t\t}\n\n\t\t\tObject.defineProperty(target.prototype, emitteryPropertyName, {\n\t\t\t\tenumerable: false,\n\t\t\t\tget: getEmitteryProperty,\n\t\t\t});\n\n\t\t\tconst emitteryMethodCaller = methodName => function (...args) {\n\t\t\t\treturn this[emitteryPropertyName][methodName](...args);\n\t\t\t};\n\n\t\t\tfor (const methodName of methodNames) {\n\t\t\t\tObject.defineProperty(target.prototype, methodName, {\n\t\t\t\t\tenumerable: false,\n\t\t\t\t\tvalue: emitteryMethodCaller(methodName),\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn target;\n\t\t};\n\t}\n\n\tstatic get isDebugEnabled() {\n\t\t// In a browser environment, `globalThis.process` can potentially reference a DOM Element with a `#process` ID,\n\t\t// so instead of just type checking `globalThis.process`, we need to make sure that `globalThis.process.env` exists.\n\t\t// eslint-disable-next-line n/prefer-global/process\n\t\tif (typeof globalThis.process?.env !== 'object') {\n\t\t\treturn isGlobalDebugEnabled;\n\t\t}\n\n\t\t// eslint-disable-next-line n/prefer-global/process\n\t\tconst {env} = globalThis.process ?? {env: {}};\n\t\treturn env.DEBUG === 'emittery' || env.DEBUG === '*' || isGlobalDebugEnabled;\n\t}\n\n\tstatic set isDebugEnabled(newValue) {\n\t\tisGlobalDebugEnabled = newValue;\n\t}\n\n\tconstructor(options = {}) {\n\t\tanyMap.set(this, new Set());\n\t\teventsMap.set(this, new Map());\n\t\tproducersMap.set(this, new Map());\n\n\t\tproducersMap.get(this).set(anyProducer, new Set());\n\n\t\tthis.debug = options.debug ?? {};\n\n\t\tif (this.debug.enabled === undefined) {\n\t\t\tthis.debug.enabled = false;\n\t\t}\n\n\t\tif (!this.debug.logger) {\n\t\t\tthis.debug.logger = (type, debugName, eventName, eventData) => {\n\t\t\t\ttry {\n\t\t\t\t\t// TODO: Use https://github.com/sindresorhus/safe-stringify when the package is more mature. Just copy-paste the code.\n\t\t\t\t\teventData = JSON.stringify(eventData);\n\t\t\t\t} catch {\n\t\t\t\t\teventData = `Object with the following keys failed to stringify: ${Object.keys(eventData).join(',')}`;\n\t\t\t\t}\n\n\t\t\t\tif (typeof eventName === 'symbol' || typeof eventName === 'number') {\n\t\t\t\t\teventName = eventName.toString();\n\t\t\t\t}\n\n\t\t\t\tconst currentTime = new Date();\n\t\t\t\tconst logTime = `${currentTime.getHours()}:${currentTime.getMinutes()}:${currentTime.getSeconds()}.${currentTime.getMilliseconds()}`;\n\t\t\t\tconsole.log(`[${logTime}][emittery:${type}][${debugName}] Event Name: ${eventName}\\n\\tdata: ${eventData}`);\n\t\t\t};\n\t\t}\n\t}\n\n\tlogIfDebugEnabled(type, eventName, eventData) {\n\t\tif (Emittery.isDebugEnabled || this.debug.enabled) {\n\t\t\tthis.debug.logger(type, this.debug.name, eventName, eventData);\n\t\t}\n\t}\n\n\ton(eventNames, listener, {signal} = {}) {\n\t\tassertListener(listener);\n\n\t\teventNames = Array.isArray(eventNames) ? eventNames : [eventNames];\n\t\tfor (const eventName of eventNames) {\n\t\t\tassertEventName(eventName);\n\t\t\tlet set = getListeners(this, eventName);\n\t\t\tif (!set) {\n\t\t\t\tset = new Set();\n\t\t\t\tconst events = eventsMap.get(this);\n\t\t\t\tevents.set(eventName, set);\n\t\t\t}\n\n\t\t\tset.add(listener);\n\n\t\t\tthis.logIfDebugEnabled('subscribe', eventName, undefined);\n\n\t\t\tif (!isMetaEvent(eventName)) {\n\t\t\t\temitMetaEvent(this, listenerAdded, {eventName, listener});\n\t\t\t}\n\t\t}\n\n\t\tconst off = () => {\n\t\t\tthis.off(eventNames, listener);\n\t\t\tsignal?.removeEventListener('abort', off);\n\t\t};\n\n\t\tsignal?.addEventListener('abort', off, {once: true});\n\n\t\tif (signal?.aborted) {\n\t\t\toff();\n\t\t}\n\n\t\treturn off;\n\t}\n\n\toff(eventNames, listener) {\n\t\tassertListener(listener);\n\n\t\teventNames = Array.isArray(eventNames) ? eventNames : [eventNames];\n\t\tfor (const eventName of eventNames) {\n\t\t\tassertEventName(eventName);\n\t\t\tconst set = getListeners(this, eventName);\n\t\t\tif (set) {\n\t\t\t\tset.delete(listener);\n\t\t\t\tif (set.size === 0) {\n\t\t\t\t\tconst events = eventsMap.get(this);\n\t\t\t\t\tevents.delete(eventName);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.logIfDebugEnabled('unsubscribe', eventName, undefined);\n\n\t\t\tif (!isMetaEvent(eventName)) {\n\t\t\t\temitMetaEvent(this, listenerRemoved, {eventName, listener});\n\t\t\t}\n\t\t}\n\t}\n\n\tonce(eventNames, predicate) {\n\t\tif (predicate !== undefined && typeof predicate !== 'function') {\n\t\t\tthrow new TypeError('predicate must be a function');\n\t\t}\n\n\t\tlet off_;\n\n\t\tconst promise = new Promise(resolve => {\n\t\t\toff_ = this.on(eventNames, data => {\n\t\t\t\tif (predicate && !predicate(data)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\toff_();\n\t\t\t\tresolve(data);\n\t\t\t});\n\t\t});\n\n\t\tpromise.off = off_;\n\t\treturn promise;\n\t}\n\n\tevents(eventNames) {\n\t\teventNames = Array.isArray(eventNames) ? eventNames : [eventNames];\n\t\tfor (const eventName of eventNames) {\n\t\t\tassertEventName(eventName);\n\t\t}\n\n\t\treturn iterator(this, eventNames);\n\t}\n\n\tasync emit(eventName, eventData) {\n\t\tassertEventName(eventName);\n\n\t\tif (isMetaEvent(eventName) && !canEmitMetaEvents) {\n\t\t\tthrow new TypeError('`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`');\n\t\t}\n\n\t\tthis.logIfDebugEnabled('emit', eventName, eventData);\n\n\t\tenqueueProducers(this, eventName, eventData);\n\n\t\tconst listeners = getListeners(this, eventName) ?? new Set();\n\t\tconst anyListeners = anyMap.get(this);\n\t\tconst staticListeners = [...listeners];\n\t\tconst staticAnyListeners = isMetaEvent(eventName) ? [] : [...anyListeners];\n\n\t\tawait resolvedPromise;\n\t\tawait Promise.all([\n\t\t\t...staticListeners.map(async listener => {\n\t\t\t\tif (listeners.has(listener)) {\n\t\t\t\t\treturn listener(eventData);\n\t\t\t\t}\n\t\t\t}),\n\t\t\t...staticAnyListeners.map(async listener => {\n\t\t\t\tif (anyListeners.has(listener)) {\n\t\t\t\t\treturn listener(eventName, eventData);\n\t\t\t\t}\n\t\t\t}),\n\t\t]);\n\t}\n\n\tasync emitSerial(eventName, eventData) {\n\t\tassertEventName(eventName);\n\n\t\tif (isMetaEvent(eventName) && !canEmitMetaEvents) {\n\t\t\tthrow new TypeError('`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`');\n\t\t}\n\n\t\tthis.logIfDebugEnabled('emitSerial', eventName, eventData);\n\n\t\tconst listeners = getListeners(this, eventName) ?? new Set();\n\t\tconst anyListeners = anyMap.get(this);\n\t\tconst staticListeners = [...listeners];\n\t\tconst staticAnyListeners = [...anyListeners];\n\n\t\tawait resolvedPromise;\n\t\t/* eslint-disable no-await-in-loop */\n\t\tfor (const listener of staticListeners) {\n\t\t\tif (listeners.has(listener)) {\n\t\t\t\tawait listener(eventData);\n\t\t\t}\n\t\t}\n\n\t\tfor (const listener of staticAnyListeners) {\n\t\t\tif (anyListeners.has(listener)) {\n\t\t\t\tawait listener(eventName, eventData);\n\t\t\t}\n\t\t}\n\t\t/* eslint-enable no-await-in-loop */\n\t}\n\n\tonAny(listener, {signal} = {}) {\n\t\tassertListener(listener);\n\n\t\tthis.logIfDebugEnabled('subscribeAny', undefined, undefined);\n\n\t\tanyMap.get(this).add(listener);\n\t\temitMetaEvent(this, listenerAdded, {listener});\n\n\t\tconst offAny = () => {\n\t\t\tthis.offAny(listener);\n\t\t\tsignal?.removeEventListener('abort', offAny);\n\t\t};\n\n\t\tsignal?.addEventListener('abort', offAny, {once: true});\n\n\t\tif (signal?.aborted) {\n\t\t\toffAny();\n\t\t}\n\n\t\treturn offAny;\n\t}\n\n\tanyEvent() {\n\t\treturn iterator(this);\n\t}\n\n\toffAny(listener) {\n\t\tassertListener(listener);\n\n\t\tthis.logIfDebugEnabled('unsubscribeAny', undefined, undefined);\n\n\t\temitMetaEvent(this, listenerRemoved, {listener});\n\t\tanyMap.get(this).delete(listener);\n\t}\n\n\tclearListeners(eventNames) {\n\t\teventNames = Array.isArray(eventNames) ? eventNames : [eventNames];\n\n\t\tfor (const eventName of eventNames) {\n\t\t\tthis.logIfDebugEnabled('clear', eventName, undefined);\n\n\t\t\tif (isEventKeyType(eventName)) {\n\t\t\t\tconst set = getListeners(this, eventName);\n\t\t\t\tif (set) {\n\t\t\t\t\tset.clear();\n\t\t\t\t}\n\n\t\t\t\tconst producers = getEventProducers(this, eventName);\n\t\t\t\tif (producers) {\n\t\t\t\t\tfor (const producer of producers) {\n\t\t\t\t\t\tproducer.finish();\n\t\t\t\t\t}\n\n\t\t\t\t\tproducers.clear();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tanyMap.get(this).clear();\n\n\t\t\t\tfor (const [eventName, listeners] of eventsMap.get(this).entries()) {\n\t\t\t\t\tlisteners.clear();\n\t\t\t\t\teventsMap.get(this).delete(eventName);\n\t\t\t\t}\n\n\t\t\t\tfor (const [eventName, producers] of producersMap.get(this).entries()) {\n\t\t\t\t\tfor (const producer of producers) {\n\t\t\t\t\t\tproducer.finish();\n\t\t\t\t\t}\n\n\t\t\t\t\tproducers.clear();\n\t\t\t\t\tproducersMap.get(this).delete(eventName);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tlistenerCount(eventNames) {\n\t\teventNames = Array.isArray(eventNames) ? eventNames : [eventNames];\n\t\tlet count = 0;\n\n\t\tfor (const eventName of eventNames) {\n\t\t\tif (isEventKeyType(eventName)) {\n\t\t\t\tcount += anyMap.get(this).size\n\t\t\t\t\t+ (getListeners(this, eventName)?.size ?? 0)\n\t\t\t\t\t+ (getEventProducers(this, eventName)?.size ?? 0)\n\t\t\t\t\t+ (getEventProducers(this)?.size ?? 0);\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (eventName !== undefined) {\n\t\t\t\tassertEventName(eventName);\n\t\t\t}\n\n\t\t\tcount += anyMap.get(this).size;\n\n\t\t\tfor (const value of eventsMap.get(this).values()) {\n\t\t\t\tcount += value.size;\n\t\t\t}\n\n\t\t\tfor (const value of producersMap.get(this).values()) {\n\t\t\t\tcount += value.size;\n\t\t\t}\n\t\t}\n\n\t\treturn count;\n\t}\n\n\tbindMethods(target, methodNames) {\n\t\tif (typeof target !== 'object' || target === null) {\n\t\t\tthrow new TypeError('`target` must be an object');\n\t\t}\n\n\t\tmethodNames = defaultMethodNamesOrAssert(methodNames);\n\n\t\tfor (const methodName of methodNames) {\n\t\t\tif (target[methodName] !== undefined) {\n\t\t\t\tthrow new Error(`The property \\`${methodName}\\` already exists on \\`target\\``);\n\t\t\t}\n\n\t\t\tObject.defineProperty(target, methodName, {\n\t\t\t\tenumerable: false,\n\t\t\t\tvalue: this[methodName].bind(this),\n\t\t\t});\n\t\t}\n\t}\n}\n\nconst allEmitteryMethods = Object.getOwnPropertyNames(Emittery.prototype).filter(v => v !== 'constructor');\n\nObject.defineProperty(Emittery, 'listenerAdded', {\n\tvalue: listenerAdded,\n\twritable: false,\n\tenumerable: true,\n\tconfigurable: false,\n});\nObject.defineProperty(Emittery, 'listenerRemoved', {\n\tvalue: listenerRemoved,\n\twritable: false,\n\tenumerable: true,\n\tconfigurable: false,\n});\n", "//#region src/launch-params.ts\n/**\n* Supported platforms for miniapps.\n*/\nconst PLATFORMS = [\"ios\", \"android\"];\n\n//#endregion\n//#region src/methods/versions/releases.ts\nconst releases = {\n\t\"0.0.9\": [\"app:ready\"],\n\t\"0.0.14\": [\"miniapp:close.ack\", \"host.back.button:toggle\"],\n\t\"0.1.1\": [\n\t\t\"payment:request\",\n\t\t\"clipboard:write\",\n\t\t\"clipboard:read\"\n\t],\n\t\"0.1.3\": [\"link:open\"]\n};\n\n//#endregion\n//#region src/methods/versions/get-release-version.ts\nfunction getReleaseVersion(method, payload) {\n\treturn Object.keys(releases).find((version) => {\n\t\tconst releaseItems = releases[version];\n\t\tif (!releaseItems) return false;\n\t\treturn releaseItems.some((item) => {\n\t\t\tif (payload) return typeof item === \"object\" && item.method === method && item.param === payload;\n\t\t\treturn item === method;\n\t\t});\n\t}) || null;\n}\n\n//#endregion\n//#region src/methods/versions/index.ts\n/**\n* Check if a method is supported in a given version.\n*\n* @param method - The method name to check.\n* @param version - The contract version (must be a valid version string, not undefined).\n* @returns `true` if the method is supported in the given version, `false` otherwise.\n*\n* @remarks\n* This function only accepts valid version strings. Version existence checks should be\n* handled at a higher level before calling this function.\n*/\nfunction isMethodSupported(method, version) {\n\tconst methods = releases[version];\n\tif (!methods) return false;\n\treturn methods.some((m) => typeof m === \"string\" ? m === method : m.method === method);\n}\n/**\n* Get the minimum version that supports a method.\n* Returns undefined if method not found in any version.\n*/\nfunction getMethodMinVersion(method) {\n\tconst sorted = Object.keys(releases).sort((a, b) => {\n\t\tconst [aMajor, aMinor, aPatch] = a.split(\".\").map(Number);\n\t\tconst [bMajor, bMinor, bPatch] = b.split(\".\").map(Number);\n\t\tif (aMajor !== bMajor) return (aMajor ?? 0) - (bMajor ?? 0);\n\t\tif (aMinor !== bMinor) return (aMinor ?? 0) - (bMinor ?? 0);\n\t\treturn (aPatch ?? 0) - (bPatch ?? 0);\n\t});\n\tfor (const version of sorted) {\n\t\tconst methods = releases[version];\n\t\tif (!methods) continue;\n\t\tif (methods.some((m) => typeof m === \"string\" ? m === method : m.method === method)) return version;\n\t}\n}\n\n//#endregion\nexport { PLATFORMS, getMethodMinVersion, getReleaseVersion, isMethodSupported, releases };", "import Emittery from \"emittery\";\nimport { PLATFORMS } from \"@alien_org/contract\";\n\n//#region src/errors.ts\n/**\n* Base class for all bridge-related errors.\n* Allows catching all bridge errors with a single catch block.\n*/\nvar BridgeError = class BridgeError extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = \"BridgeError\";\n\t\tif (Error.captureStackTrace) Error.captureStackTrace(this, BridgeError);\n\t}\n};\n/**\n* Thrown when the bridge interface is not available.\n* This occurs when the miniapp is not running in Alien App.\n*/\nvar BridgeUnavailableError = class extends BridgeError {\n\tconstructor() {\n\t\tsuper(\"Bridge is not available. This SDK requires Alien App environment.\");\n\t\tthis.name = \"BridgeUnavailableError\";\n\t}\n};\n/**\n* Thrown when window is undefined (e.g., SSR scenarios).\n*/\nvar BridgeWindowUnavailableError = class extends BridgeError {\n\tconstructor() {\n\t\tsuper(\"Window is not available. This SDK requires a browser environment.\");\n\t\tthis.name = \"BridgeWindowUnavailableError\";\n\t}\n};\n/**\n* Thrown when a request times out.\n*/\nvar BridgeTimeoutError = class extends BridgeError {\n\tmethod;\n\ttimeout;\n\tconstructor(method, timeout) {\n\t\tsuper(`Request timeout: ${method} (${timeout}ms)`);\n\t\tthis.name = \"BridgeTimeoutError\";\n\t\tthis.method = method;\n\t\tthis.timeout = timeout;\n\t}\n};\n\n//#endregion\n//#region src/transport.ts\n/**\n* Gets the bridge instance if available.\n* Core function used internally by the bridge package.\n* @returns The bridge instance, or `undefined` if not available.\n*/\nfunction getBridge() {\n\tif (typeof window === \"undefined\") return;\n\tconst bridge = window.__miniAppsBridge__;\n\tif (!bridge || typeof bridge.postMessage !== \"function\") return;\n\treturn bridge;\n}\n/**\n* Sends a message using the native bridge.\n* Throws errors if bridge is unavailable (strict behavior).\n*/\nfunction sendMessage(message) {\n\tconst bridge = getBridge();\n\tif (!bridge) throw new BridgeUnavailableError();\n\tbridge.postMessage(JSON.stringify(message));\n}\n/**\n* Type guard to validate if data is a valid Message.\n*/\nfunction isMessage(data) {\n\treturn data !== null && typeof data === \"object\" && \"type\" in data && \"name\" in data && \"payload\" in data && (data.type === \"event\" || data.type === \"method\");\n}\n/**\n* Sets up a message listener that handles both stringified and object messages.\n* This works for all platforms (web, mobile, desktop).\n* Returns a no-op cleanup function if window is not available (e.g., SSR scenarios).\n*/\nfunction setupMessageListener(handler) {\n\tif (typeof window === \"undefined\") return () => {};\n\tconst messageHandler = (event) => {\n\t\tlet data = event.data;\n\t\tif (typeof data === \"string\") try {\n\t\t\tdata = JSON.parse(data);\n\t\t} catch {\n\t\t\treturn;\n\t\t}\n\t\tif (isMessage(data)) handler(data);\n\t};\n\twindow.addEventListener(\"message\", messageHandler);\n\treturn () => {\n\t\twindow.removeEventListener(\"message\", messageHandler);\n\t};\n}\n\n//#endregion\n//#region src/events.ts\nvar BridgeEmitter = class extends Emittery {\n\tconstructor() {\n\t\tsuper();\n\t\tsetupMessageListener((message) => {\n\t\t\tif (message.type === \"event\") this.emit(message.name, message.payload);\n\t\t});\n\t}\n};\nconst emitter = new BridgeEmitter();\nfunction on(name, listener) {\n\temitter.on(name, listener);\n\treturn () => {\n\t\temitter.off(name, listener);\n\t};\n}\nfunction off(name, listener) {\n\temitter.off(name, listener);\n}\nasync function emit(name, payload) {\n\tawait emitter.emit(name, payload);\n\tsendMessage({\n\t\ttype: \"event\",\n\t\tname,\n\t\tpayload\n\t});\n}\n\n//#endregion\n//#region src/launch-params.ts\nconst SESSION_STORAGE_KEY = \"alien/launchParams\";\n/**\n* Error thrown when launch params cannot be retrieved.\n*/\nvar LaunchParamsError = class extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = \"LaunchParamsError\";\n\t}\n};\nfunction validateVersion(value) {\n\tif (!value) return void 0;\n\treturn /^\\d+\\.\\d+\\.\\d+$/.test(value) ? value : void 0;\n}\nfunction validatePlatform(value) {\n\tif (!value) return void 0;\n\treturn PLATFORMS.includes(value) ? value : void 0;\n}\nfunction retrieveFromWindow() {\n\tif (typeof window === \"undefined\") return null;\n\tif (window.__ALIEN_AUTH_TOKEN__ === void 0) return null;\n\treturn {\n\t\tauthToken: window.__ALIEN_AUTH_TOKEN__,\n\t\tcontractVersion: validateVersion(window.__ALIEN_CONTRACT_VERSION__),\n\t\thostAppVersion: window.__ALIEN_HOST_VERSION__,\n\t\tplatform: validatePlatform(window.__ALIEN_PLATFORM__),\n\t\tstartParam: window.__ALIEN_START_PARAM__\n\t};\n}\nfunction retrieveFromSessionStorage() {\n\tif (typeof window === \"undefined\") return null;\n\ttry {\n\t\tconst raw = sessionStorage.getItem(SESSION_STORAGE_KEY);\n\t\tif (!raw) return null;\n\t\treturn parseLaunchParams(raw);\n\t} catch {\n\t\treturn null;\n\t}\n}\nfunction persistToSessionStorage(params) {\n\ttry {\n\t\tsessionStorage.setItem(SESSION_STORAGE_KEY, JSON.stringify(params));\n\t} catch {}\n}\n/**\n* Parse launch params from JSON string.\n*/\nfunction parseLaunchParams(raw) {\n\tconst parsed = JSON.parse(raw);\n\treturn {\n\t\tauthToken: parsed.authToken,\n\t\tcontractVersion: validateVersion(parsed.contractVersion),\n\t\thostAppVersion: parsed.hostAppVersion,\n\t\tplatform: validatePlatform(parsed.platform),\n\t\tstartParam: parsed.startParam\n\t};\n}\n/**\n* Inject mock launch params for development/testing.\n* Injects directly into window globals (same as host app would).\n* WARNING: Only use in development environments.\n*/\nfunction mockLaunchParamsForDev(params) {\n\tif (typeof window === \"undefined\") throw new LaunchParamsError(\"Cannot mock launch params: window is undefined\");\n\tconsole.warn(\"[@alien_org/bridge] Using mock launch params - dev mode\");\n\tif (params.authToken !== void 0) window.__ALIEN_AUTH_TOKEN__ = params.authToken;\n\tif (params.contractVersion !== void 0) window.__ALIEN_CONTRACT_VERSION__ = params.contractVersion;\n\tif (params.hostAppVersion !== void 0) window.__ALIEN_HOST_VERSION__ = params.hostAppVersion;\n\tif (params.platform !== void 0) window.__ALIEN_PLATFORM__ = params.platform;\n\tif (params.startParam !== void 0) window.__ALIEN_START_PARAM__ = params.startParam;\n}\n/**\n* Clear mock launch params from window globals and sessionStorage.\n*/\nfunction clearMockLaunchParams() {\n\tif (typeof window !== \"undefined\") {\n\t\tdelete window.__ALIEN_AUTH_TOKEN__;\n\t\tdelete window.__ALIEN_CONTRACT_VERSION__;\n\t\tdelete window.__ALIEN_HOST_VERSION__;\n\t\tdelete window.__ALIEN_PLATFORM__;\n\t\tdelete window.__ALIEN_START_PARAM__;\n\t\ttry {\n\t\t\tsessionStorage.removeItem(SESSION_STORAGE_KEY);\n\t\t} catch {}\n\t}\n}\n/**\n* Retrieve launch params from available sources.\n* @throws LaunchParamsError if no source available\n*/\nfunction retrieveLaunchParams() {\n\tconst fromWindow = retrieveFromWindow();\n\tif (fromWindow) {\n\t\tpersistToSessionStorage(fromWindow);\n\t\treturn fromWindow;\n\t}\n\tconst fromStorage = retrieveFromSessionStorage();\n\tif (fromStorage) return fromStorage;\n\tthrow new LaunchParamsError(\"Launch params not available. Running outside Alien App? Use mockLaunchParamsForDev() for development.\");\n}\n/**\n* Try to get launch params, returns undefined if unavailable.\n*/\nfunction getLaunchParams() {\n\ttry {\n\t\treturn retrieveLaunchParams();\n\t} catch {\n\t\treturn;\n\t}\n}\n\n//#endregion\n//#region src/request.ts\nconst DEFAULT_TIMEOUT = 3e4;\nfunction generateReqId() {\n\treturn typeof crypto !== \"undefined\" && crypto.randomUUID ? crypto.randomUUID() : Math.random().toString(36).slice(2);\n}\nasync function request(method, params, responseEvent, options = {}) {\n\tconst reqId = options.reqId || generateReqId();\n\tconst timeout = options.timeout || DEFAULT_TIMEOUT;\n\tconst payload = {\n\t\t...params,\n\t\treqId\n\t};\n\treturn new Promise((resolve, reject) => {\n\t\tconst timeoutId = setTimeout(() => {\n\t\t\tcleanup();\n\t\t\treject(new BridgeTimeoutError(String(method), timeout));\n\t\t}, timeout);\n\t\tconst cleanup = () => {\n\t\t\tclearTimeout(timeoutId);\n\t\t\toff(responseEvent, handleResponse);\n\t\t};\n\t\tconst handleResponse = (payload$1) => {\n\t\t\tif (payload$1.reqId === reqId) {\n\t\t\t\tcleanup();\n\t\t\t\tresolve(payload$1);\n\t\t\t}\n\t\t};\n\t\ton(responseEvent, handleResponse);\n\t\tsendMessage({\n\t\t\ttype: \"method\",\n\t\t\tname: method,\n\t\t\tpayload\n\t\t});\n\t});\n}\n\n//#endregion\n//#region src/send.ts\n/**\n* Sends a one-way method to the host app without waiting for a response.\n* Use this for fire-and-forget methods like 'app:ready'.\n*\n* @param method - The method name to send\n* @param payload - The method payload\n*\n* @example\n* ```ts\n* import { send } from '@alien_org/bridge';\n*\n* send('app:ready', {});\n* ```\n*/\nfunction send(method, payload) {\n\tsendMessage({\n\t\ttype: \"method\",\n\t\tname: method,\n\t\tpayload\n\t});\n}\n\n//#endregion\n//#region src/utils.ts\n/**\n* Checks if the bridge is available.\n* Utility function for checking bridge availability.\n* @returns `true` if bridge is available, `false` otherwise.\n*/\nfunction isBridgeAvailable() {\n\treturn getBridge() !== void 0;\n}\n\n//#endregion\nexport { BridgeError, BridgeTimeoutError, BridgeUnavailableError, BridgeWindowUnavailableError, LaunchParamsError, clearMockLaunchParams, emit, getLaunchParams, isBridgeAvailable, mockLaunchParamsForDev, off, on, parseLaunchParams, request, retrieveLaunchParams, send };", "import { BridgeError, BridgeTimeoutError, BridgeUnavailableError, BridgeWindowUnavailableError, getLaunchParams, isBridgeAvailable, on, request, send, send as send$1 } from \"@alien_org/bridge\";\nimport { getMethodMinVersion, getMethodMinVersion as getMethodMinVersion$1, isMethodSupported, isMethodSupported as isMethodSupported$1 } from \"@alien_org/contract\";\nimport { createContext, useCallback, useContext, useEffect, useMemo, useRef, useState } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\n\n//#region src/context.tsx\nconst AlienContext = createContext(null);\n/**\n* Provider component that initializes the Alien miniapp context.\n* Must wrap your app to use Alien hooks.\n*\n* @example\n* ```tsx\n* import { AlienProvider } from '@alien_org/react';\n*\n* function App() {\n*   return (\n*     <AlienProvider>\n*       <MyMiniapp />\n*     </AlienProvider>\n*   );\n* }\n* ```\n*/\nfunction AlienProvider({ children }) {\n\tconst value = useMemo(() => {\n\t\tconst launchParams = getLaunchParams();\n\t\treturn {\n\t\t\tauthToken: launchParams?.authToken,\n\t\t\tcontractVersion: launchParams?.contractVersion,\n\t\t\tisBridgeAvailable: isBridgeAvailable()\n\t\t};\n\t}, []);\n\tuseEffect(() => {\n\t\tif (!value.isBridgeAvailable) console.warn(\"[@alien_org/react] Bridge is not available. Running in dev mode? The SDK will handle errors gracefully, but bridge communication will not work.\");\n\t}, [value.isBridgeAvailable]);\n\tuseEffect(() => {\n\t\tif (value.isBridgeAvailable) send$1(\"app:ready\", {});\n\t}, [value.isBridgeAvailable]);\n\treturn /* @__PURE__ */ jsx(AlienContext.Provider, {\n\t\tvalue,\n\t\tchildren\n\t});\n}\n\n//#endregion\n//#region src/errors.ts\n/**\n* Base class for all React SDK errors.\n*/\nvar ReactSDKError = class extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = \"ReactSDKError\";\n\t}\n};\n/**\n* Error thrown when a method is not supported by the current contract version.\n*/\nvar MethodNotSupportedError = class extends ReactSDKError {\n\tmethod;\n\tcontractVersion;\n\tminVersion;\n\tconstructor(method, contractVersion, minVersion) {\n\t\tconst message = minVersion ? `Method \"${method}\" requires version ${minVersion}, but host provides ${contractVersion ?? \"unknown\"}` : `Method \"${method}\" is not supported`;\n\t\tsuper(message);\n\t\tthis.name = \"MethodNotSupportedError\";\n\t\tthis.method = method;\n\t\tthis.contractVersion = contractVersion;\n\t\tthis.minVersion = minVersion;\n\t}\n};\n\n//#endregion\n//#region src/hooks/useAlien.ts\n/**\n* Hook to access the Alien context.\n* Must be used within an AlienProvider.\n*\n* For additional launch params (platform, startParam, hostAppVersion),\n* use the `useLaunchParams` hook.\n*\n* @example\n* ```tsx\n* const { authToken, contractVersion, isBridgeAvailable } = useAlien();\n* ```\n*/\nfunction useAlien() {\n\tconst context = useContext(AlienContext);\n\tif (!context) throw new Error(\"useAlien must be used within an AlienProvider\");\n\treturn context;\n}\n\n//#endregion\n//#region src/hooks/useClipboard.ts\n/**\n* Hook for clipboard operations.\n*\n* @example\n* ```tsx\n* function ClipboardDemo() {\n*   const { writeText, readText, isReading, errorCode, supported } = useClipboard();\n*\n*   if (!supported) return null;\n*\n*   return (\n*     <>\n*       <button onClick={() => writeText('Hello!')}>Copy</button>\n*       <button\n*         onClick={async () => {\n*           const text = await readText();\n*           if (text !== null) console.log('Pasted:', text);\n*         }}\n*         disabled={isReading}\n*       >\n*         Paste\n*       </button>\n*       {errorCode && <span>Error: {errorCode}</span>}\n*     </>\n*   );\n* }\n* ```\n*/\nfunction useClipboard(options = {}) {\n\tconst { timeout = 5e3 } = options;\n\tconst { contractVersion, isBridgeAvailable: isBridgeAvailable$1 } = useAlien();\n\tconst [isReading, setIsReading] = useState(false);\n\tconst [errorCode, setErrorCode] = useState(null);\n\tconst supported = contractVersion ? isMethodSupported$1(\"clipboard:write\", contractVersion) && isMethodSupported$1(\"clipboard:read\", contractVersion) : true;\n\tconst writeText = useCallback((text) => {\n\t\tif (!isBridgeAvailable$1) return;\n\t\tif (contractVersion && !isMethodSupported$1(\"clipboard:write\", contractVersion)) return;\n\t\tsend$1(\"clipboard:write\", { text });\n\t}, [isBridgeAvailable$1, contractVersion]);\n\tconst readText = useCallback(async () => {\n\t\tif (!isBridgeAvailable$1) return null;\n\t\tif (contractVersion && !isMethodSupported$1(\"clipboard:read\", contractVersion)) return null;\n\t\tsetIsReading(true);\n\t\tsetErrorCode(null);\n\t\ttry {\n\t\t\tconst response = await request(\"clipboard:read\", {}, \"clipboard:response\", { timeout });\n\t\t\tif (response.errorCode) {\n\t\t\t\tsetErrorCode(response.errorCode);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn response.text;\n\t\t} catch {\n\t\t\treturn null;\n\t\t} finally {\n\t\t\tsetIsReading(false);\n\t\t}\n\t}, [\n\t\tisBridgeAvailable$1,\n\t\tcontractVersion,\n\t\ttimeout\n\t]);\n\treturn useMemo(() => ({\n\t\twriteText,\n\t\treadText,\n\t\tisReading,\n\t\terrorCode,\n\t\tsupported\n\t}), [\n\t\twriteText,\n\t\treadText,\n\t\tisReading,\n\t\terrorCode,\n\t\tsupported\n\t]);\n}\n\n//#endregion\n//#region src/hooks/useEvent.ts\n/**\n* Hook to subscribe to bridge events.\n* Automatically handles subscription cleanup on unmount.\n*\n* @param event - The event name to subscribe to.\n* @param callback - The callback to invoke when the event is received.\n*\n* @example\n* ```tsx\n* import { useEvent } from '@alien_org/react';\n*\n* function MyComponent() {\n*   useEvent('miniapp:close', () => {\n*     // Cleanup before miniapp closes\n*     saveState();\n*   });\n*\n*   useEvent('host.back.button:clicked', () => {\n*     // Handle back button press\n*     navigateBack();\n*   });\n*\n*   return <div>Listening for events...</div>;\n* }\n* ```\n*/\nfunction useEvent(event, callback) {\n\tconst callbackRef = useRef(callback);\n\tcallbackRef.current = callback;\n\tconst { isBridgeAvailable: isBridgeAvailable$1 } = useAlien();\n\tuseEffect(() => {\n\t\tif (!isBridgeAvailable$1) {\n\t\t\tconsole.warn(\"[@alien_org/react] Bridge is not available. Event listener will not be set up. Running in dev mode?\");\n\t\t\treturn;\n\t\t}\n\t\tconst handler = (payload) => {\n\t\t\tcallbackRef.current(payload);\n\t\t};\n\t\ttry {\n\t\t\treturn on(event, handler);\n\t\t} catch (error) {\n\t\t\tconsole.warn(\"[@alien_org/react] Failed to set up event listener:\", error instanceof Error ? error.message : String(error));\n\t\t\treturn;\n\t\t}\n\t}, [event, isBridgeAvailable$1]);\n}\n\n//#endregion\n//#region src/hooks/useIsMethodSupported.ts\n/**\n* Hook to check if a method is supported by the host app's contract version.\n*\n* @param method - The method name to check.\n* @returns Object with `supported`, `contractVersion`, and `minVersion`.\n*\n* @example\n* ```tsx\n* import { useMethodSupported } from '@alien_org/react';\n*\n* function MyComponent() {\n*   const { supported, minVersion } = useMethodSupported('payment:request');\n*\n*   if (!supported) {\n*     return <div>This feature requires version {minVersion}</div>;\n*   }\n*\n*   return <div>Feature available!</div>;\n* }\n* ```\n*/\nfunction useIsMethodSupported(method) {\n\tconst { contractVersion } = useAlien();\n\treturn {\n\t\tsupported: contractVersion ? isMethodSupported$1(method, contractVersion) : true,\n\t\tcontractVersion,\n\t\tminVersion: getMethodMinVersion$1(method)\n\t};\n}\n\n//#endregion\n//#region src/hooks/useLaunchParams.ts\n/**\n* Hook to get launch params.\n* Returns undefined if params unavailable (use mockLaunchParamsForDev in dev).\n*\n* @example\n* ```tsx\n* import { useLaunchParams } from '@alien_org/react';\n*\n* function MyComponent() {\n*   const launchParams = useLaunchParams();\n*\n*   if (!launchParams) {\n*     return <div>Running outside Alien App</div>;\n*   }\n*\n*   return <div>Platform: {launchParams.platform}</div>;\n* }\n* ```\n*/\nfunction useLaunchParams() {\n\treturn useMemo(() => getLaunchParams(), []);\n}\n\n//#endregion\n//#region src/hooks/useMethod.ts\n/**\n* Hook for making bridge requests with loading/error state management.\n*\n* @param method - The method name to call.\n* @param responseEvent - The event name to listen for the response.\n* @param options - Hook options including version checking.\n* @returns Object with `execute`, `reset`, `data`, `error`, `isLoading`, and `supported`.\n*\n* @example\n* ```tsx\n* import { useMethod } from '@alien_org/react';\n*\n* function PayButton() {\n*   const { execute, data, error, isLoading, supported } = useMethod(\n*     'payment:request',\n*     'payment:response',\n*   );\n*\n*   if (!supported) {\n*     return <div>This feature is not available</div>;\n*   }\n*\n*   const handlePay = async () => {\n*     // Errors are automatically set in the `error` state - no try/catch needed!\n*     const { error, data } = await execute({\n*       recipient: 'wallet-123',\n*       amount: '100',\n*       token: 'SOL',\n*       network: 'solana',\n*       invoice: 'inv-123',\n*     });\n*     if (error) {\n*         console.error(error);\n*         return;\n*     }\n*     if (data) {\n*       console.log('Success:', data);\n*     }\n*   };\n*\n*   if (isLoading) return <button disabled>Loading...</button>;\n*   if (error) return <div>Error: {error.message}</div>;\n*   if (data) return <div>Payment complete!</div>;\n*\n*   return <button onClick={handlePay}>Pay</button>;\n* }\n* ```\n*/\nfunction useMethod(method, responseEvent, options = {}) {\n\tconst { checkVersion = true } = options;\n\tconst { contractVersion, isBridgeAvailable: isBridgeAvailable$1 } = useAlien();\n\tconst [state, setState] = useState({\n\t\tdata: void 0,\n\t\terror: void 0,\n\t\tisLoading: false\n\t});\n\tconst supported = contractVersion ? isMethodSupported$1(method, contractVersion) : true;\n\tconst execute = useCallback(async (params, requestOptions) => {\n\t\tif (!isBridgeAvailable$1) {\n\t\t\tconst error = /* @__PURE__ */ new Error(\"Bridge is not available. Running in dev mode? Bridge communication will not work.\");\n\t\t\tconsole.warn(\"[@alien_org/react]\", error.message);\n\t\t\tsetState({\n\t\t\t\tdata: void 0,\n\t\t\t\terror,\n\t\t\t\tisLoading: false\n\t\t\t});\n\t\t\treturn {\n\t\t\t\tdata: void 0,\n\t\t\t\terror\n\t\t\t};\n\t\t}\n\t\tif (checkVersion) {\n\t\t\tif (contractVersion && !isMethodSupported$1(method, contractVersion)) {\n\t\t\t\tconst error = new MethodNotSupportedError(method, contractVersion, getMethodMinVersion$1(method));\n\t\t\t\tsetState({\n\t\t\t\t\tdata: void 0,\n\t\t\t\t\terror,\n\t\t\t\t\tisLoading: false\n\t\t\t\t});\n\t\t\t\treturn {\n\t\t\t\t\tdata: void 0,\n\t\t\t\t\terror\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\tsetState({\n\t\t\tdata: void 0,\n\t\t\terror: void 0,\n\t\t\tisLoading: true\n\t\t});\n\t\ttry {\n\t\t\tconst response = await request(method, params, responseEvent, requestOptions);\n\t\t\tsetState({\n\t\t\t\tdata: response,\n\t\t\t\terror: void 0,\n\t\t\t\tisLoading: false\n\t\t\t});\n\t\t\treturn {\n\t\t\t\tdata: response,\n\t\t\t\terror: void 0\n\t\t\t};\n\t\t} catch (err) {\n\t\t\tif (err instanceof BridgeError) {\n\t\t\t\tconsole.warn(\"[@alien_org/react] Bridge error:\", err.message);\n\t\t\t\tsetState({\n\t\t\t\t\tdata: void 0,\n\t\t\t\t\terror: err,\n\t\t\t\t\tisLoading: false\n\t\t\t\t});\n\t\t\t\treturn {\n\t\t\t\t\tdata: void 0,\n\t\t\t\t\terror: err\n\t\t\t\t};\n\t\t\t}\n\t\t\tconst error = err instanceof Error ? err : new Error(String(err));\n\t\t\tsetState({\n\t\t\t\tdata: void 0,\n\t\t\t\terror,\n\t\t\t\tisLoading: false\n\t\t\t});\n\t\t\treturn {\n\t\t\t\tdata: void 0,\n\t\t\t\terror\n\t\t\t};\n\t\t}\n\t}, [\n\t\tmethod,\n\t\tresponseEvent,\n\t\tcheckVersion,\n\t\tcontractVersion,\n\t\tisBridgeAvailable$1\n\t]);\n\tconst reset = useCallback(() => {\n\t\tsetState({\n\t\t\tdata: void 0,\n\t\t\terror: void 0,\n\t\t\tisLoading: false\n\t\t});\n\t}, []);\n\treturn useMemo(() => ({\n\t\t...state,\n\t\texecute,\n\t\treset,\n\t\tsupported\n\t}), [\n\t\tstate,\n\t\texecute,\n\t\treset,\n\t\tsupported\n\t]);\n}\n\n//#endregion\n//#region src/hooks/usePayment.ts\n/**\n* Hook for handling payments with full state management.\n*\n* Provides an easy-to-use interface for initiating payments and reacting\n* to status changes. Automatically handles loading states, errors, and\n* version checking.\n*\n* @param options - Optional configuration and callbacks.\n* @returns Payment state and methods.\n*\n* @example\n* ```tsx\n* import { usePayment } from '@alien_org/react';\n*\n* function BuyButton({ orderId }: { orderId: string }) {\n*   const {\n*     pay,\n*     isLoading,\n*     isPaid,\n*     txHash,\n*     error,\n*   } = usePayment({\n*     onPaid: (txHash) => console.log('Paid!', txHash),\n*     onCancelled: () => console.log('Cancelled'),\n*     onFailed: (code) => console.log('Failed:', code),\n*   });\n*\n*   const handleBuy = () => pay({\n*     recipient: 'wallet-address',\n*     amount: '1000000',\n*     token: 'SOL',\n*     network: 'solana',\n*     invoice: orderId,\n*     title: 'Premium Plan',\n*   });\n*\n*   if (isPaid) return <div>Thank you! TX: {txHash}</div>;\n*\n*   return (\n*     <button onClick={handleBuy} disabled={isLoading}>\n*       {isLoading ? 'Processing...' : 'Buy Now'}\n*     </button>\n*   );\n* }\n* ```\n*/\nfunction usePayment(options = {}) {\n\tconst { timeout = 12e4, onPaid, onCancelled, onFailed, onStatusChange } = options;\n\tconst { contractVersion, isBridgeAvailable: isBridgeAvailable$1 } = useAlien();\n\tconst callbacksRef = useRef({\n\t\tonPaid,\n\t\tonCancelled,\n\t\tonFailed,\n\t\tonStatusChange\n\t});\n\tcallbacksRef.current = {\n\t\tonPaid,\n\t\tonCancelled,\n\t\tonFailed,\n\t\tonStatusChange\n\t};\n\tconst [state, setState] = useState({ status: \"idle\" });\n\tconst supported = contractVersion ? isMethodSupported$1(\"payment:request\", contractVersion) : true;\n\tconst updateState = useCallback((newState) => {\n\t\tsetState(newState);\n\t\tcallbacksRef.current.onStatusChange?.(newState.status);\n\t}, []);\n\tconst pay = useCallback(async (params) => {\n\t\tif (!isBridgeAvailable$1) {\n\t\t\tconst error = /* @__PURE__ */ new Error(\"Bridge is not available. Running in dev mode?\");\n\t\t\tconsole.warn(\"[@alien_org/react]\", error.message);\n\t\t\tconst result = {\n\t\t\t\tstatus: \"failed\",\n\t\t\t\terrorCode: \"unknown\",\n\t\t\t\terror\n\t\t\t};\n\t\t\tupdateState(result);\n\t\t\tcallbacksRef.current.onFailed?.(\"unknown\", error);\n\t\t\treturn result;\n\t\t}\n\t\tif (contractVersion && !isMethodSupported$1(\"payment:request\", contractVersion)) {\n\t\t\tconst error = new MethodNotSupportedError(\"payment:request\", contractVersion, getMethodMinVersion$1(\"payment:request\"));\n\t\t\tconst result = {\n\t\t\t\tstatus: \"failed\",\n\t\t\t\terrorCode: \"unknown\",\n\t\t\t\terror\n\t\t\t};\n\t\t\tupdateState(result);\n\t\t\tcallbacksRef.current.onFailed?.(\"unknown\", error);\n\t\t\treturn result;\n\t\t}\n\t\tupdateState({ status: \"loading\" });\n\t\ttry {\n\t\t\tconst response = await request(\"payment:request\", params, \"payment:response\", { timeout });\n\t\t\tif (response.status === \"paid\") {\n\t\t\t\tconst txHash = response.txHash ?? \"\";\n\t\t\t\tconst result$1 = {\n\t\t\t\t\tstatus: \"paid\",\n\t\t\t\t\ttxHash\n\t\t\t\t};\n\t\t\t\tupdateState(result$1);\n\t\t\t\tcallbacksRef.current.onPaid?.(txHash);\n\t\t\t\treturn result$1;\n\t\t\t}\n\t\t\tif (response.status === \"cancelled\") {\n\t\t\t\tconst result$1 = { status: \"cancelled\" };\n\t\t\t\tupdateState(result$1);\n\t\t\t\tcallbacksRef.current.onCancelled?.();\n\t\t\t\treturn result$1;\n\t\t\t}\n\t\t\tconst errorCode = response.errorCode ?? \"unknown\";\n\t\t\tconst result = {\n\t\t\t\tstatus: \"failed\",\n\t\t\t\terrorCode\n\t\t\t};\n\t\t\tupdateState(result);\n\t\t\tcallbacksRef.current.onFailed?.(errorCode);\n\t\t\treturn result;\n\t\t} catch (err) {\n\t\t\tconst error = err instanceof Error ? err : new Error(String(err));\n\t\t\tif (err instanceof BridgeError) console.warn(\"[@alien_org/react] Bridge error:\", err.message);\n\t\t\tconst result = {\n\t\t\t\tstatus: \"failed\",\n\t\t\t\terrorCode: \"unknown\",\n\t\t\t\terror\n\t\t\t};\n\t\t\tupdateState(result);\n\t\t\tcallbacksRef.current.onFailed?.(\"unknown\", error);\n\t\t\treturn result;\n\t\t}\n\t}, [\n\t\tisBridgeAvailable$1,\n\t\tcontractVersion,\n\t\ttimeout,\n\t\tupdateState\n\t]);\n\tconst reset = useCallback(() => {\n\t\tupdateState({ status: \"idle\" });\n\t}, [updateState]);\n\treturn useMemo(() => ({\n\t\tstatus: state.status,\n\t\tisLoading: state.status === \"loading\",\n\t\tisPaid: state.status === \"paid\",\n\t\tisCancelled: state.status === \"cancelled\",\n\t\tisFailed: state.status === \"failed\",\n\t\ttxHash: state.txHash,\n\t\terrorCode: state.errorCode,\n\t\terror: state.error,\n\t\tpay,\n\t\treset,\n\t\tsupported\n\t}), [\n\t\tstate,\n\t\tpay,\n\t\treset,\n\t\tsupported\n\t]);\n}\n\n//#endregion\nexport { AlienProvider, BridgeError, BridgeTimeoutError, BridgeUnavailableError, BridgeWindowUnavailableError, MethodNotSupportedError, ReactSDKError, getMethodMinVersion, isMethodSupported, send, useAlien, useClipboard, useEvent, useIsMethodSupported, useLaunchParams, useMethod, usePayment };"],
  "mappings": ";;;;;;;;;;;;AAAO,IAAM,SAAS,oBAAI,QAAQ;AAC3B,IAAM,YAAY,oBAAI,QAAQ;AAC9B,IAAM,eAAe,oBAAI,QAAQ;;;ACAxC,IAAM,cAAc,OAAO,aAAa;AACxC,IAAM,kBAAkB,QAAQ,QAAQ;AAGxC,IAAM,gBAAgB,OAAO,eAAe;AAC5C,IAAM,kBAAkB,OAAO,iBAAiB;AAEhD,IAAI,oBAAoB;AACxB,IAAI,uBAAuB;AAE3B,IAAM,iBAAiB,SAAO,OAAO,QAAQ,YAAY,OAAO,QAAQ,YAAY,OAAO,QAAQ;AAEnG,SAAS,gBAAgB,WAAW;AACnC,MAAI,CAAC,eAAe,SAAS,GAAG;AAC/B,UAAM,IAAI,UAAU,iDAAiD;AAAA,EACtE;AACD;AAEA,SAAS,eAAe,UAAU;AACjC,MAAI,OAAO,aAAa,YAAY;AACnC,UAAM,IAAI,UAAU,6BAA6B;AAAA,EAClD;AACD;AAEA,SAAS,aAAa,UAAU,WAAW;AAC1C,QAAM,SAAS,UAAU,IAAI,QAAQ;AACrC,MAAI,CAAC,OAAO,IAAI,SAAS,GAAG;AAC3B;AAAA,EACD;AAEA,SAAO,OAAO,IAAI,SAAS;AAC5B;AAEA,SAAS,kBAAkB,UAAU,WAAW;AAC/C,QAAM,MAAM,eAAe,SAAS,IAAI,YAAY;AACpD,QAAM,YAAY,aAAa,IAAI,QAAQ;AAC3C,MAAI,CAAC,UAAU,IAAI,GAAG,GAAG;AACxB;AAAA,EACD;AAEA,SAAO,UAAU,IAAI,GAAG;AACzB;AAEA,SAAS,iBAAiB,UAAU,WAAW,WAAW;AACzD,QAAM,YAAY,aAAa,IAAI,QAAQ;AAC3C,MAAI,UAAU,IAAI,SAAS,GAAG;AAC7B,eAAW,YAAY,UAAU,IAAI,SAAS,GAAG;AAChD,eAAS,QAAQ,SAAS;AAAA,IAC3B;AAAA,EACD;AAEA,MAAI,UAAU,IAAI,WAAW,GAAG;AAC/B,UAAM,OAAO,QAAQ,IAAI,CAAC,WAAW,SAAS,CAAC;AAC/C,eAAW,YAAY,UAAU,IAAI,WAAW,GAAG;AAClD,eAAS,QAAQ,IAAI;AAAA,IACtB;AAAA,EACD;AACD;AAEA,SAAS,SAAS,UAAU,YAAY;AACvC,eAAa,MAAM,QAAQ,UAAU,IAAI,aAAa,CAAC,UAAU;AAEjE,MAAI,aAAa;AACjB,MAAI,QAAQ,MAAM;AAAA,EAAC;AACnB,MAAI,QAAQ,CAAC;AAEb,QAAM,WAAW;AAAA,IAChB,QAAQ,MAAM;AACb,YAAM,KAAK,IAAI;AACf,YAAM;AAAA,IACP;AAAA,IACA,SAAS;AACR,mBAAa;AACb,YAAM;AAAA,IACP;AAAA,EACD;AAEA,aAAW,aAAa,YAAY;AACnC,QAAI,MAAM,kBAAkB,UAAU,SAAS;AAC/C,QAAI,CAAC,KAAK;AACT,YAAM,oBAAI,IAAI;AACd,YAAM,YAAY,aAAa,IAAI,QAAQ;AAC3C,gBAAU,IAAI,WAAW,GAAG;AAAA,IAC7B;AAEA,QAAI,IAAI,QAAQ;AAAA,EACjB;AAEA,SAAO;AAAA,IACN,MAAM,OAAO;AACZ,UAAI,CAAC,OAAO;AACX,eAAO,EAAC,MAAM,KAAI;AAAA,MACnB;AAEA,UAAI,MAAM,WAAW,GAAG;AACvB,YAAI,YAAY;AACf,kBAAQ;AACR,iBAAO,KAAK,KAAK;AAAA,QAClB;AAEA,cAAM,IAAI,QAAQ,aAAW;AAC5B,kBAAQ;AAAA,QACT,CAAC;AAED,eAAO,KAAK,KAAK;AAAA,MAClB;AAEA,aAAO;AAAA,QACN,MAAM;AAAA,QACN,OAAO,MAAM,MAAM,MAAM;AAAA,MAC1B;AAAA,IACD;AAAA,IAEA,MAAM,OAAO,OAAO;AACnB,cAAQ;AAER,iBAAW,aAAa,YAAY;AACnC,cAAM,MAAM,kBAAkB,UAAU,SAAS;AACjD,YAAI,KAAK;AACR,cAAI,OAAO,QAAQ;AACnB,cAAI,IAAI,SAAS,GAAG;AACnB,kBAAM,YAAY,aAAa,IAAI,QAAQ;AAC3C,sBAAU,OAAO,SAAS;AAAA,UAC3B;AAAA,QACD;AAAA,MACD;AAEA,YAAM;AAEN,aAAO,UAAU,SAAS,IACvB,EAAC,MAAM,MAAM,OAAO,MAAM,MAAK,IAC/B,EAAC,MAAM,KAAI;AAAA,IACf;AAAA,IAEA,CAAC,OAAO,aAAa,IAAI;AACxB,aAAO;AAAA,IACR;AAAA,EACD;AACD;AAEA,SAAS,2BAA2B,aAAa;AAChD,MAAI,gBAAgB,QAAW;AAC9B,WAAO;AAAA,EACR;AAEA,MAAI,CAAC,MAAM,QAAQ,WAAW,GAAG;AAChC,UAAM,IAAI,UAAU,2CAA2C;AAAA,EAChE;AAEA,aAAW,cAAc,aAAa;AACrC,QAAI,CAAC,mBAAmB,SAAS,UAAU,GAAG;AAC7C,UAAI,OAAO,eAAe,UAAU;AACnC,cAAM,IAAI,UAAU,wCAAwC;AAAA,MAC7D;AAEA,YAAM,IAAI,MAAM,GAAG,UAAU,yBAAyB;AAAA,IACvD;AAAA,EACD;AAEA,SAAO;AACR;AAEA,IAAM,cAAc,eAAa,cAAc,iBAAiB,cAAc;AAE9E,SAAS,cAAcA,UAAS,WAAW,WAAW;AACrD,MAAI,CAAC,YAAY,SAAS,GAAG;AAC5B;AAAA,EACD;AAEA,MAAI;AACH,wBAAoB;AACpB,IAAAA,SAAQ,KAAK,WAAW,SAAS;AAAA,EAClC,UAAE;AACD,wBAAoB;AAAA,EACrB;AACD;AAEA,IAAqB,WAArB,MAAqB,UAAS;AAAA,EAC7B,OAAO,MAAM,sBAAsB,aAAa;AAC/C,kBAAc,2BAA2B,WAAW;AACpD,WAAO,YAAU;AAChB,UAAI,OAAO,WAAW,YAAY;AACjC,cAAM,IAAI,UAAU,2BAA2B;AAAA,MAChD;AAEA,iBAAW,cAAc,aAAa;AACrC,YAAI,OAAO,UAAU,UAAU,MAAM,QAAW;AAC/C,gBAAM,IAAI,MAAM,kBAAkB,UAAU,iCAAiC;AAAA,QAC9E;AAAA,MACD;AAEA,eAAS,sBAAsB;AAC9B,eAAO,eAAe,MAAM,sBAAsB;AAAA,UACjD,YAAY;AAAA,UACZ,OAAO,IAAI,UAAS;AAAA,QACrB,CAAC;AACD,eAAO,KAAK,oBAAoB;AAAA,MACjC;AAEA,aAAO,eAAe,OAAO,WAAW,sBAAsB;AAAA,QAC7D,YAAY;AAAA,QACZ,KAAK;AAAA,MACN,CAAC;AAED,YAAM,uBAAuB,gBAAc,YAAa,MAAM;AAC7D,eAAO,KAAK,oBAAoB,EAAE,UAAU,EAAE,GAAG,IAAI;AAAA,MACtD;AAEA,iBAAW,cAAc,aAAa;AACrC,eAAO,eAAe,OAAO,WAAW,YAAY;AAAA,UACnD,YAAY;AAAA,UACZ,OAAO,qBAAqB,UAAU;AAAA,QACvC,CAAC;AAAA,MACF;AAEA,aAAO;AAAA,IACR;AAAA,EACD;AAAA,EAEA,WAAW,iBAAiB;AA7N7B;AAiOE,QAAI,SAAO,gBAAW,YAAX,mBAAoB,SAAQ,UAAU;AAChD,aAAO;AAAA,IACR;AAGA,UAAM,EAAC,IAAG,IAAI,WAAW,WAAW,EAAC,KAAK,CAAC,EAAC;AAC5C,WAAO,IAAI,UAAU,cAAc,IAAI,UAAU,OAAO;AAAA,EACzD;AAAA,EAEA,WAAW,eAAe,UAAU;AACnC,2BAAuB;AAAA,EACxB;AAAA,EAEA,YAAY,UAAU,CAAC,GAAG;AACzB,WAAO,IAAI,MAAM,oBAAI,IAAI,CAAC;AAC1B,cAAU,IAAI,MAAM,oBAAI,IAAI,CAAC;AAC7B,iBAAa,IAAI,MAAM,oBAAI,IAAI,CAAC;AAEhC,iBAAa,IAAI,IAAI,EAAE,IAAI,aAAa,oBAAI,IAAI,CAAC;AAEjD,SAAK,QAAQ,QAAQ,SAAS,CAAC;AAE/B,QAAI,KAAK,MAAM,YAAY,QAAW;AACrC,WAAK,MAAM,UAAU;AAAA,IACtB;AAEA,QAAI,CAAC,KAAK,MAAM,QAAQ;AACvB,WAAK,MAAM,SAAS,CAAC,MAAM,WAAW,WAAW,cAAc;AAC9D,YAAI;AAEH,sBAAY,KAAK,UAAU,SAAS;AAAA,QACrC,QAAQ;AACP,sBAAY,uDAAuD,OAAO,KAAK,SAAS,EAAE,KAAK,GAAG,CAAC;AAAA,QACpG;AAEA,YAAI,OAAO,cAAc,YAAY,OAAO,cAAc,UAAU;AACnE,sBAAY,UAAU,SAAS;AAAA,QAChC;AAEA,cAAM,cAAc,oBAAI,KAAK;AAC7B,cAAM,UAAU,GAAG,YAAY,SAAS,CAAC,IAAI,YAAY,WAAW,CAAC,IAAI,YAAY,WAAW,CAAC,IAAI,YAAY,gBAAgB,CAAC;AAClI,gBAAQ,IAAI,IAAI,OAAO,cAAc,IAAI,KAAK,SAAS,iBAAiB,SAAS;AAAA,SAAa,SAAS,EAAE;AAAA,MAC1G;AAAA,IACD;AAAA,EACD;AAAA,EAEA,kBAAkB,MAAM,WAAW,WAAW;AAC7C,QAAI,UAAS,kBAAkB,KAAK,MAAM,SAAS;AAClD,WAAK,MAAM,OAAO,MAAM,KAAK,MAAM,MAAM,WAAW,SAAS;AAAA,IAC9D;AAAA,EACD;AAAA,EAEA,GAAG,YAAY,UAAU,EAAC,OAAM,IAAI,CAAC,GAAG;AACvC,mBAAe,QAAQ;AAEvB,iBAAa,MAAM,QAAQ,UAAU,IAAI,aAAa,CAAC,UAAU;AACjE,eAAW,aAAa,YAAY;AACnC,sBAAgB,SAAS;AACzB,UAAI,MAAM,aAAa,MAAM,SAAS;AACtC,UAAI,CAAC,KAAK;AACT,cAAM,oBAAI,IAAI;AACd,cAAM,SAAS,UAAU,IAAI,IAAI;AACjC,eAAO,IAAI,WAAW,GAAG;AAAA,MAC1B;AAEA,UAAI,IAAI,QAAQ;AAEhB,WAAK,kBAAkB,aAAa,WAAW,MAAS;AAExD,UAAI,CAAC,YAAY,SAAS,GAAG;AAC5B,sBAAc,MAAM,eAAe,EAAC,WAAW,SAAQ,CAAC;AAAA,MACzD;AAAA,IACD;AAEA,UAAMC,OAAM,MAAM;AACjB,WAAK,IAAI,YAAY,QAAQ;AAC7B,uCAAQ,oBAAoB,SAASA;AAAA,IACtC;AAEA,qCAAQ,iBAAiB,SAASA,MAAK,EAAC,MAAM,KAAI;AAElD,QAAI,iCAAQ,SAAS;AACpB,MAAAA,KAAI;AAAA,IACL;AAEA,WAAOA;AAAA,EACR;AAAA,EAEA,IAAI,YAAY,UAAU;AACzB,mBAAe,QAAQ;AAEvB,iBAAa,MAAM,QAAQ,UAAU,IAAI,aAAa,CAAC,UAAU;AACjE,eAAW,aAAa,YAAY;AACnC,sBAAgB,SAAS;AACzB,YAAM,MAAM,aAAa,MAAM,SAAS;AACxC,UAAI,KAAK;AACR,YAAI,OAAO,QAAQ;AACnB,YAAI,IAAI,SAAS,GAAG;AACnB,gBAAM,SAAS,UAAU,IAAI,IAAI;AACjC,iBAAO,OAAO,SAAS;AAAA,QACxB;AAAA,MACD;AAEA,WAAK,kBAAkB,eAAe,WAAW,MAAS;AAE1D,UAAI,CAAC,YAAY,SAAS,GAAG;AAC5B,sBAAc,MAAM,iBAAiB,EAAC,WAAW,SAAQ,CAAC;AAAA,MAC3D;AAAA,IACD;AAAA,EACD;AAAA,EAEA,KAAK,YAAY,WAAW;AAC3B,QAAI,cAAc,UAAa,OAAO,cAAc,YAAY;AAC/D,YAAM,IAAI,UAAU,8BAA8B;AAAA,IACnD;AAEA,QAAI;AAEJ,UAAM,UAAU,IAAI,QAAQ,aAAW;AACtC,aAAO,KAAK,GAAG,YAAY,UAAQ;AAClC,YAAI,aAAa,CAAC,UAAU,IAAI,GAAG;AAClC;AAAA,QACD;AAEA,aAAK;AACL,gBAAQ,IAAI;AAAA,MACb,CAAC;AAAA,IACF,CAAC;AAED,YAAQ,MAAM;AACd,WAAO;AAAA,EACR;AAAA,EAEA,OAAO,YAAY;AAClB,iBAAa,MAAM,QAAQ,UAAU,IAAI,aAAa,CAAC,UAAU;AACjE,eAAW,aAAa,YAAY;AACnC,sBAAgB,SAAS;AAAA,IAC1B;AAEA,WAAO,SAAS,MAAM,UAAU;AAAA,EACjC;AAAA,EAEA,MAAM,KAAK,WAAW,WAAW;AAChC,oBAAgB,SAAS;AAEzB,QAAI,YAAY,SAAS,KAAK,CAAC,mBAAmB;AACjD,YAAM,IAAI,UAAU,uEAAuE;AAAA,IAC5F;AAEA,SAAK,kBAAkB,QAAQ,WAAW,SAAS;AAEnD,qBAAiB,MAAM,WAAW,SAAS;AAE3C,UAAM,YAAY,aAAa,MAAM,SAAS,KAAK,oBAAI,IAAI;AAC3D,UAAM,eAAe,OAAO,IAAI,IAAI;AACpC,UAAM,kBAAkB,CAAC,GAAG,SAAS;AACrC,UAAM,qBAAqB,YAAY,SAAS,IAAI,CAAC,IAAI,CAAC,GAAG,YAAY;AAEzE,UAAM;AACN,UAAM,QAAQ,IAAI;AAAA,MACjB,GAAG,gBAAgB,IAAI,OAAM,aAAY;AACxC,YAAI,UAAU,IAAI,QAAQ,GAAG;AAC5B,iBAAO,SAAS,SAAS;AAAA,QAC1B;AAAA,MACD,CAAC;AAAA,MACD,GAAG,mBAAmB,IAAI,OAAM,aAAY;AAC3C,YAAI,aAAa,IAAI,QAAQ,GAAG;AAC/B,iBAAO,SAAS,WAAW,SAAS;AAAA,QACrC;AAAA,MACD,CAAC;AAAA,IACF,CAAC;AAAA,EACF;AAAA,EAEA,MAAM,WAAW,WAAW,WAAW;AACtC,oBAAgB,SAAS;AAEzB,QAAI,YAAY,SAAS,KAAK,CAAC,mBAAmB;AACjD,YAAM,IAAI,UAAU,uEAAuE;AAAA,IAC5F;AAEA,SAAK,kBAAkB,cAAc,WAAW,SAAS;AAEzD,UAAM,YAAY,aAAa,MAAM,SAAS,KAAK,oBAAI,IAAI;AAC3D,UAAM,eAAe,OAAO,IAAI,IAAI;AACpC,UAAM,kBAAkB,CAAC,GAAG,SAAS;AACrC,UAAM,qBAAqB,CAAC,GAAG,YAAY;AAE3C,UAAM;AAEN,eAAW,YAAY,iBAAiB;AACvC,UAAI,UAAU,IAAI,QAAQ,GAAG;AAC5B,cAAM,SAAS,SAAS;AAAA,MACzB;AAAA,IACD;AAEA,eAAW,YAAY,oBAAoB;AAC1C,UAAI,aAAa,IAAI,QAAQ,GAAG;AAC/B,cAAM,SAAS,WAAW,SAAS;AAAA,MACpC;AAAA,IACD;AAAA,EAED;AAAA,EAEA,MAAM,UAAU,EAAC,OAAM,IAAI,CAAC,GAAG;AAC9B,mBAAe,QAAQ;AAEvB,SAAK,kBAAkB,gBAAgB,QAAW,MAAS;AAE3D,WAAO,IAAI,IAAI,EAAE,IAAI,QAAQ;AAC7B,kBAAc,MAAM,eAAe,EAAC,SAAQ,CAAC;AAE7C,UAAM,SAAS,MAAM;AACpB,WAAK,OAAO,QAAQ;AACpB,uCAAQ,oBAAoB,SAAS;AAAA,IACtC;AAEA,qCAAQ,iBAAiB,SAAS,QAAQ,EAAC,MAAM,KAAI;AAErD,QAAI,iCAAQ,SAAS;AACpB,aAAO;AAAA,IACR;AAEA,WAAO;AAAA,EACR;AAAA,EAEA,WAAW;AACV,WAAO,SAAS,IAAI;AAAA,EACrB;AAAA,EAEA,OAAO,UAAU;AAChB,mBAAe,QAAQ;AAEvB,SAAK,kBAAkB,kBAAkB,QAAW,MAAS;AAE7D,kBAAc,MAAM,iBAAiB,EAAC,SAAQ,CAAC;AAC/C,WAAO,IAAI,IAAI,EAAE,OAAO,QAAQ;AAAA,EACjC;AAAA,EAEA,eAAe,YAAY;AAC1B,iBAAa,MAAM,QAAQ,UAAU,IAAI,aAAa,CAAC,UAAU;AAEjE,eAAW,aAAa,YAAY;AACnC,WAAK,kBAAkB,SAAS,WAAW,MAAS;AAEpD,UAAI,eAAe,SAAS,GAAG;AAC9B,cAAM,MAAM,aAAa,MAAM,SAAS;AACxC,YAAI,KAAK;AACR,cAAI,MAAM;AAAA,QACX;AAEA,cAAM,YAAY,kBAAkB,MAAM,SAAS;AACnD,YAAI,WAAW;AACd,qBAAW,YAAY,WAAW;AACjC,qBAAS,OAAO;AAAA,UACjB;AAEA,oBAAU,MAAM;AAAA,QACjB;AAAA,MACD,OAAO;AACN,eAAO,IAAI,IAAI,EAAE,MAAM;AAEvB,mBAAW,CAACC,YAAW,SAAS,KAAK,UAAU,IAAI,IAAI,EAAE,QAAQ,GAAG;AACnE,oBAAU,MAAM;AAChB,oBAAU,IAAI,IAAI,EAAE,OAAOA,UAAS;AAAA,QACrC;AAEA,mBAAW,CAACA,YAAW,SAAS,KAAK,aAAa,IAAI,IAAI,EAAE,QAAQ,GAAG;AACtE,qBAAW,YAAY,WAAW;AACjC,qBAAS,OAAO;AAAA,UACjB;AAEA,oBAAU,MAAM;AAChB,uBAAa,IAAI,IAAI,EAAE,OAAOA,UAAS;AAAA,QACxC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EAEA,cAAc,YAAY;AAvf3B;AAwfE,iBAAa,MAAM,QAAQ,UAAU,IAAI,aAAa,CAAC,UAAU;AACjE,QAAI,QAAQ;AAEZ,eAAW,aAAa,YAAY;AACnC,UAAI,eAAe,SAAS,GAAG;AAC9B,iBAAS,OAAO,IAAI,IAAI,EAAE,UACtB,kBAAa,MAAM,SAAS,MAA5B,mBAA+B,SAAQ,QACvC,uBAAkB,MAAM,SAAS,MAAjC,mBAAoC,SAAQ,QAC5C,uBAAkB,IAAI,MAAtB,mBAAyB,SAAQ;AAErC;AAAA,MACD;AAEA,UAAI,cAAc,QAAW;AAC5B,wBAAgB,SAAS;AAAA,MAC1B;AAEA,eAAS,OAAO,IAAI,IAAI,EAAE;AAE1B,iBAAW,SAAS,UAAU,IAAI,IAAI,EAAE,OAAO,GAAG;AACjD,iBAAS,MAAM;AAAA,MAChB;AAEA,iBAAW,SAAS,aAAa,IAAI,IAAI,EAAE,OAAO,GAAG;AACpD,iBAAS,MAAM;AAAA,MAChB;AAAA,IACD;AAEA,WAAO;AAAA,EACR;AAAA,EAEA,YAAY,QAAQ,aAAa;AAChC,QAAI,OAAO,WAAW,YAAY,WAAW,MAAM;AAClD,YAAM,IAAI,UAAU,4BAA4B;AAAA,IACjD;AAEA,kBAAc,2BAA2B,WAAW;AAEpD,eAAW,cAAc,aAAa;AACrC,UAAI,OAAO,UAAU,MAAM,QAAW;AACrC,cAAM,IAAI,MAAM,kBAAkB,UAAU,iCAAiC;AAAA,MAC9E;AAEA,aAAO,eAAe,QAAQ,YAAY;AAAA,QACzC,YAAY;AAAA,QACZ,OAAO,KAAK,UAAU,EAAE,KAAK,IAAI;AAAA,MAClC,CAAC;AAAA,IACF;AAAA,EACD;AACD;AAEA,IAAM,qBAAqB,OAAO,oBAAoB,SAAS,SAAS,EAAE,OAAO,OAAK,MAAM,aAAa;AAEzG,OAAO,eAAe,UAAU,iBAAiB;AAAA,EAChD,OAAO;AAAA,EACP,UAAU;AAAA,EACV,YAAY;AAAA,EACZ,cAAc;AACf,CAAC;AACD,OAAO,eAAe,UAAU,mBAAmB;AAAA,EAClD,OAAO;AAAA,EACP,UAAU;AAAA,EACV,YAAY;AAAA,EACZ,cAAc;AACf,CAAC;;;ACpjBD,IAAM,YAAY,CAAC,OAAO,SAAS;AAInC,IAAM,WAAW;AAAA,EAChB,SAAS,CAAC,WAAW;AAAA,EACrB,UAAU,CAAC,qBAAqB,yBAAyB;AAAA,EACzD,SAAS;AAAA,IACR;AAAA,IACA;AAAA,IACA;AAAA,EACD;AAAA,EACA,SAAS,CAAC,WAAW;AACtB;AA4BA,SAAS,kBAAkB,QAAQ,SAAS;AAC3C,QAAM,UAAU,SAAS,OAAO;AAChC,MAAI,CAAC,QAAS,QAAO;AACrB,SAAO,QAAQ,KAAK,CAAC,MAAM,OAAO,MAAM,WAAW,MAAM,SAAS,EAAE,WAAW,MAAM;AACtF;AAKA,SAAS,oBAAoB,QAAQ;AACpC,QAAM,SAAS,OAAO,KAAK,QAAQ,EAAE,KAAK,CAAC,GAAG,MAAM;AACnD,UAAM,CAAC,QAAQ,QAAQ,MAAM,IAAI,EAAE,MAAM,GAAG,EAAE,IAAI,MAAM;AACxD,UAAM,CAAC,QAAQ,QAAQ,MAAM,IAAI,EAAE,MAAM,GAAG,EAAE,IAAI,MAAM;AACxD,QAAI,WAAW,OAAQ,SAAQ,UAAU,MAAM,UAAU;AACzD,QAAI,WAAW,OAAQ,SAAQ,UAAU,MAAM,UAAU;AACzD,YAAQ,UAAU,MAAM,UAAU;AAAA,EACnC,CAAC;AACD,aAAW,WAAW,QAAQ;AAC7B,UAAM,UAAU,SAAS,OAAO;AAChC,QAAI,CAAC,QAAS;AACd,QAAI,QAAQ,KAAK,CAAC,MAAM,OAAO,MAAM,WAAW,MAAM,SAAS,EAAE,WAAW,MAAM,EAAG,QAAO;AAAA,EAC7F;AACD;;;AC3DA,IAAI,cAAc,MAAMC,qBAAoB,MAAM;AAAA,EACjD,YAAY,SAAS;AACpB,UAAM,OAAO;AACb,SAAK,OAAO;AACZ,QAAI,MAAM,kBAAmB,OAAM,kBAAkB,MAAMA,YAAW;AAAA,EACvE;AACD;AAKA,IAAI,yBAAyB,cAAc,YAAY;AAAA,EACtD,cAAc;AACb,UAAM,mEAAmE;AACzE,SAAK,OAAO;AAAA,EACb;AACD;AAIA,IAAI,+BAA+B,cAAc,YAAY;AAAA,EAC5D,cAAc;AACb,UAAM,mEAAmE;AACzE,SAAK,OAAO;AAAA,EACb;AACD;AAIA,IAAI,qBAAqB,cAAc,YAAY;AAAA,EAGlD,YAAY,QAAQ,SAAS;AAC5B,UAAM,oBAAoB,MAAM,KAAK,OAAO,KAAK;AAHlD;AACA;AAGC,SAAK,OAAO;AACZ,SAAK,SAAS;AACd,SAAK,UAAU;AAAA,EAChB;AACD;AASA,SAAS,YAAY;AACpB,MAAI,OAAO,WAAW,YAAa;AACnC,QAAM,SAAS,OAAO;AACtB,MAAI,CAAC,UAAU,OAAO,OAAO,gBAAgB,WAAY;AACzD,SAAO;AACR;AAKA,SAAS,YAAY,SAAS;AAC7B,QAAM,SAAS,UAAU;AACzB,MAAI,CAAC,OAAQ,OAAM,IAAI,uBAAuB;AAC9C,SAAO,YAAY,KAAK,UAAU,OAAO,CAAC;AAC3C;AAIA,SAAS,UAAU,MAAM;AACxB,SAAO,SAAS,QAAQ,OAAO,SAAS,YAAY,UAAU,QAAQ,UAAU,QAAQ,aAAa,SAAS,KAAK,SAAS,WAAW,KAAK,SAAS;AACtJ;AAMA,SAAS,qBAAqB,SAAS;AACtC,MAAI,OAAO,WAAW,YAAa,QAAO,MAAM;AAAA,EAAC;AACjD,QAAM,iBAAiB,CAAC,UAAU;AACjC,QAAI,OAAO,MAAM;AACjB,QAAI,OAAO,SAAS,SAAU,KAAI;AACjC,aAAO,KAAK,MAAM,IAAI;AAAA,IACvB,QAAQ;AACP;AAAA,IACD;AACA,QAAI,UAAU,IAAI,EAAG,SAAQ,IAAI;AAAA,EAClC;AACA,SAAO,iBAAiB,WAAW,cAAc;AACjD,SAAO,MAAM;AACZ,WAAO,oBAAoB,WAAW,cAAc;AAAA,EACrD;AACD;AAIA,IAAI,gBAAgB,cAAc,SAAS;AAAA,EAC1C,cAAc;AACb,UAAM;AACN,yBAAqB,CAAC,YAAY;AACjC,UAAI,QAAQ,SAAS,QAAS,MAAK,KAAK,QAAQ,MAAM,QAAQ,OAAO;AAAA,IACtE,CAAC;AAAA,EACF;AACD;AACA,IAAM,UAAU,IAAI,cAAc;AAClC,SAAS,GAAG,MAAM,UAAU;AAC3B,UAAQ,GAAG,MAAM,QAAQ;AACzB,SAAO,MAAM;AACZ,YAAQ,IAAI,MAAM,QAAQ;AAAA,EAC3B;AACD;AACA,SAAS,IAAI,MAAM,UAAU;AAC5B,UAAQ,IAAI,MAAM,QAAQ;AAC3B;AAYA,IAAM,sBAAsB;AAI5B,IAAI,oBAAoB,cAAc,MAAM;AAAA,EAC3C,YAAY,SAAS;AACpB,UAAM,OAAO;AACb,SAAK,OAAO;AAAA,EACb;AACD;AACA,SAAS,gBAAgB,OAAO;AAC/B,MAAI,CAAC,MAAO,QAAO;AACnB,SAAO,kBAAkB,KAAK,KAAK,IAAI,QAAQ;AAChD;AACA,SAAS,iBAAiB,OAAO;AAChC,MAAI,CAAC,MAAO,QAAO;AACnB,SAAO,UAAU,SAAS,KAAK,IAAI,QAAQ;AAC5C;AACA,SAAS,qBAAqB;AAC7B,MAAI,OAAO,WAAW,YAAa,QAAO;AAC1C,MAAI,OAAO,yBAAyB,OAAQ,QAAO;AACnD,SAAO;AAAA,IACN,WAAW,OAAO;AAAA,IAClB,iBAAiB,gBAAgB,OAAO,0BAA0B;AAAA,IAClE,gBAAgB,OAAO;AAAA,IACvB,UAAU,iBAAiB,OAAO,kBAAkB;AAAA,IACpD,YAAY,OAAO;AAAA,EACpB;AACD;AACA,SAAS,6BAA6B;AACrC,MAAI,OAAO,WAAW,YAAa,QAAO;AAC1C,MAAI;AACH,UAAM,MAAM,eAAe,QAAQ,mBAAmB;AACtD,QAAI,CAAC,IAAK,QAAO;AACjB,WAAO,kBAAkB,GAAG;AAAA,EAC7B,QAAQ;AACP,WAAO;AAAA,EACR;AACD;AACA,SAAS,wBAAwB,QAAQ;AACxC,MAAI;AACH,mBAAe,QAAQ,qBAAqB,KAAK,UAAU,MAAM,CAAC;AAAA,EACnE,QAAQ;AAAA,EAAC;AACV;AAIA,SAAS,kBAAkB,KAAK;AAC/B,QAAM,SAAS,KAAK,MAAM,GAAG;AAC7B,SAAO;AAAA,IACN,WAAW,OAAO;AAAA,IAClB,iBAAiB,gBAAgB,OAAO,eAAe;AAAA,IACvD,gBAAgB,OAAO;AAAA,IACvB,UAAU,iBAAiB,OAAO,QAAQ;AAAA,IAC1C,YAAY,OAAO;AAAA,EACpB;AACD;AAkCA,SAAS,uBAAuB;AAC/B,QAAM,aAAa,mBAAmB;AACtC,MAAI,YAAY;AACf,4BAAwB,UAAU;AAClC,WAAO;AAAA,EACR;AACA,QAAM,cAAc,2BAA2B;AAC/C,MAAI,YAAa,QAAO;AACxB,QAAM,IAAI,kBAAkB,uGAAuG;AACpI;AAIA,SAAS,kBAAkB;AAC1B,MAAI;AACH,WAAO,qBAAqB;AAAA,EAC7B,QAAQ;AACP;AAAA,EACD;AACD;AAIA,IAAM,kBAAkB;AACxB,SAAS,gBAAgB;AACxB,SAAO,OAAO,WAAW,eAAe,OAAO,aAAa,OAAO,WAAW,IAAI,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,MAAM,CAAC;AACrH;AACA,eAAe,QAAQ,QAAQ,QAAQ,eAAe,UAAU,CAAC,GAAG;AACnE,QAAM,QAAQ,QAAQ,SAAS,cAAc;AAC7C,QAAM,UAAU,QAAQ,WAAW;AACnC,QAAM,UAAU;AAAA,IACf,GAAG;AAAA,IACH;AAAA,EACD;AACA,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACvC,UAAM,YAAY,WAAW,MAAM;AAClC,cAAQ;AACR,aAAO,IAAI,mBAAmB,OAAO,MAAM,GAAG,OAAO,CAAC;AAAA,IACvD,GAAG,OAAO;AACV,UAAM,UAAU,MAAM;AACrB,mBAAa,SAAS;AACtB,UAAI,eAAe,cAAc;AAAA,IAClC;AACA,UAAM,iBAAiB,CAAC,cAAc;AACrC,UAAI,UAAU,UAAU,OAAO;AAC9B,gBAAQ;AACR,gBAAQ,SAAS;AAAA,MAClB;AAAA,IACD;AACA,OAAG,eAAe,cAAc;AAChC,gBAAY;AAAA,MACX,MAAM;AAAA,MACN,MAAM;AAAA,MACN;AAAA,IACD,CAAC;AAAA,EACF,CAAC;AACF;AAkBA,SAAS,KAAK,QAAQ,SAAS;AAC9B,cAAY;AAAA,IACX,MAAM;AAAA,IACN,MAAM;AAAA,IACN;AAAA,EACD,CAAC;AACF;AASA,SAAS,oBAAoB;AAC5B,SAAO,UAAU,MAAM;AACxB;;;ACpTA,mBAA6F;AAC7F,yBAAoB;AAGpB,IAAM,mBAAe,4BAAc,IAAI;AAkBvC,SAAS,cAAc,EAAE,SAAS,GAAG;AACpC,QAAM,YAAQ,sBAAQ,MAAM;AAC3B,UAAM,eAAe,gBAAgB;AACrC,WAAO;AAAA,MACN,WAAW,6CAAc;AAAA,MACzB,iBAAiB,6CAAc;AAAA,MAC/B,mBAAmB,kBAAkB;AAAA,IACtC;AAAA,EACD,GAAG,CAAC,CAAC;AACL,8BAAU,MAAM;AACf,QAAI,CAAC,MAAM,kBAAmB,SAAQ,KAAK,iJAAiJ;AAAA,EAC7L,GAAG,CAAC,MAAM,iBAAiB,CAAC;AAC5B,8BAAU,MAAM;AACf,QAAI,MAAM,kBAAmB,MAAO,aAAa,CAAC,CAAC;AAAA,EACpD,GAAG,CAAC,MAAM,iBAAiB,CAAC;AAC5B,aAAuB,wBAAI,aAAa,UAAU;AAAA,IACjD;AAAA,IACA;AAAA,EACD,CAAC;AACF;AAOA,IAAI,gBAAgB,cAAc,MAAM;AAAA,EACvC,YAAY,SAAS;AACpB,UAAM,OAAO;AACb,SAAK,OAAO;AAAA,EACb;AACD;AAIA,IAAI,0BAA0B,cAAc,cAAc;AAAA,EAIzD,YAAY,QAAQ,iBAAiB,YAAY;AAChD,UAAM,UAAU,aAAa,WAAW,MAAM,sBAAsB,UAAU,uBAAuB,mBAAmB,SAAS,KAAK,WAAW,MAAM;AACvJ,UAAM,OAAO;AALd;AACA;AACA;AAIC,SAAK,OAAO;AACZ,SAAK,SAAS;AACd,SAAK,kBAAkB;AACvB,SAAK,aAAa;AAAA,EACnB;AACD;AAgBA,SAAS,WAAW;AACnB,QAAM,cAAU,yBAAW,YAAY;AACvC,MAAI,CAAC,QAAS,OAAM,IAAI,MAAM,+CAA+C;AAC7E,SAAO;AACR;AAgCA,SAAS,aAAa,UAAU,CAAC,GAAG;AACnC,QAAM,EAAE,UAAU,IAAI,IAAI;AAC1B,QAAM,EAAE,iBAAiB,mBAAmB,oBAAoB,IAAI,SAAS;AAC7E,QAAM,CAAC,WAAW,YAAY,QAAI,uBAAS,KAAK;AAChD,QAAM,CAAC,WAAW,YAAY,QAAI,uBAAS,IAAI;AAC/C,QAAM,YAAY,kBAAkB,kBAAoB,mBAAmB,eAAe,KAAK,kBAAoB,kBAAkB,eAAe,IAAI;AACxJ,QAAM,gBAAY,0BAAY,CAAC,SAAS;AACvC,QAAI,CAAC,oBAAqB;AAC1B,QAAI,mBAAmB,CAAC,kBAAoB,mBAAmB,eAAe,EAAG;AACjF,SAAO,mBAAmB,EAAE,KAAK,CAAC;AAAA,EACnC,GAAG,CAAC,qBAAqB,eAAe,CAAC;AACzC,QAAM,eAAW,0BAAY,YAAY;AACxC,QAAI,CAAC,oBAAqB,QAAO;AACjC,QAAI,mBAAmB,CAAC,kBAAoB,kBAAkB,eAAe,EAAG,QAAO;AACvF,iBAAa,IAAI;AACjB,iBAAa,IAAI;AACjB,QAAI;AACH,YAAM,WAAW,MAAM,QAAQ,kBAAkB,CAAC,GAAG,sBAAsB,EAAE,QAAQ,CAAC;AACtF,UAAI,SAAS,WAAW;AACvB,qBAAa,SAAS,SAAS;AAC/B,eAAO;AAAA,MACR;AACA,aAAO,SAAS;AAAA,IACjB,QAAQ;AACP,aAAO;AAAA,IACR,UAAE;AACD,mBAAa,KAAK;AAAA,IACnB;AAAA,EACD,GAAG;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACD,CAAC;AACD,aAAO,sBAAQ,OAAO;AAAA,IACrB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD,IAAI;AAAA,IACH;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD,CAAC;AACF;AA8BA,SAAS,SAAS,OAAO,UAAU;AAClC,QAAM,kBAAc,qBAAO,QAAQ;AACnC,cAAY,UAAU;AACtB,QAAM,EAAE,mBAAmB,oBAAoB,IAAI,SAAS;AAC5D,8BAAU,MAAM;AACf,QAAI,CAAC,qBAAqB;AACzB,cAAQ,KAAK,qGAAqG;AAClH;AAAA,IACD;AACA,UAAM,UAAU,CAAC,YAAY;AAC5B,kBAAY,QAAQ,OAAO;AAAA,IAC5B;AACA,QAAI;AACH,aAAO,GAAG,OAAO,OAAO;AAAA,IACzB,SAAS,OAAO;AACf,cAAQ,KAAK,uDAAuD,iBAAiB,QAAQ,MAAM,UAAU,OAAO,KAAK,CAAC;AAC1H;AAAA,IACD;AAAA,EACD,GAAG,CAAC,OAAO,mBAAmB,CAAC;AAChC;AAyBA,SAAS,qBAAqB,QAAQ;AACrC,QAAM,EAAE,gBAAgB,IAAI,SAAS;AACrC,SAAO;AAAA,IACN,WAAW,kBAAkB,kBAAoB,QAAQ,eAAe,IAAI;AAAA,IAC5E;AAAA,IACA,YAAY,oBAAsB,MAAM;AAAA,EACzC;AACD;AAuBA,SAAS,kBAAkB;AAC1B,aAAO,sBAAQ,MAAM,gBAAgB,GAAG,CAAC,CAAC;AAC3C;AAoDA,SAAS,UAAU,QAAQ,eAAe,UAAU,CAAC,GAAG;AACvD,QAAM,EAAE,eAAe,KAAK,IAAI;AAChC,QAAM,EAAE,iBAAiB,mBAAmB,oBAAoB,IAAI,SAAS;AAC7E,QAAM,CAAC,OAAO,QAAQ,QAAI,uBAAS;AAAA,IAClC,MAAM;AAAA,IACN,OAAO;AAAA,IACP,WAAW;AAAA,EACZ,CAAC;AACD,QAAM,YAAY,kBAAkB,kBAAoB,QAAQ,eAAe,IAAI;AACnF,QAAM,cAAU,0BAAY,OAAO,QAAQ,mBAAmB;AAC7D,QAAI,CAAC,qBAAqB;AACzB,YAAM,QAAwB,IAAI,MAAM,mFAAmF;AAC3H,cAAQ,KAAK,sBAAsB,MAAM,OAAO;AAChD,eAAS;AAAA,QACR,MAAM;AAAA,QACN;AAAA,QACA,WAAW;AAAA,MACZ,CAAC;AACD,aAAO;AAAA,QACN,MAAM;AAAA,QACN;AAAA,MACD;AAAA,IACD;AACA,QAAI,cAAc;AACjB,UAAI,mBAAmB,CAAC,kBAAoB,QAAQ,eAAe,GAAG;AACrE,cAAM,QAAQ,IAAI,wBAAwB,QAAQ,iBAAiB,oBAAsB,MAAM,CAAC;AAChG,iBAAS;AAAA,UACR,MAAM;AAAA,UACN;AAAA,UACA,WAAW;AAAA,QACZ,CAAC;AACD,eAAO;AAAA,UACN,MAAM;AAAA,UACN;AAAA,QACD;AAAA,MACD;AAAA,IACD;AACA,aAAS;AAAA,MACR,MAAM;AAAA,MACN,OAAO;AAAA,MACP,WAAW;AAAA,IACZ,CAAC;AACD,QAAI;AACH,YAAM,WAAW,MAAM,QAAQ,QAAQ,QAAQ,eAAe,cAAc;AAC5E,eAAS;AAAA,QACR,MAAM;AAAA,QACN,OAAO;AAAA,QACP,WAAW;AAAA,MACZ,CAAC;AACD,aAAO;AAAA,QACN,MAAM;AAAA,QACN,OAAO;AAAA,MACR;AAAA,IACD,SAAS,KAAK;AACb,UAAI,eAAe,aAAa;AAC/B,gBAAQ,KAAK,oCAAoC,IAAI,OAAO;AAC5D,iBAAS;AAAA,UACR,MAAM;AAAA,UACN,OAAO;AAAA,UACP,WAAW;AAAA,QACZ,CAAC;AACD,eAAO;AAAA,UACN,MAAM;AAAA,UACN,OAAO;AAAA,QACR;AAAA,MACD;AACA,YAAM,QAAQ,eAAe,QAAQ,MAAM,IAAI,MAAM,OAAO,GAAG,CAAC;AAChE,eAAS;AAAA,QACR,MAAM;AAAA,QACN;AAAA,QACA,WAAW;AAAA,MACZ,CAAC;AACD,aAAO;AAAA,QACN,MAAM;AAAA,QACN;AAAA,MACD;AAAA,IACD;AAAA,EACD,GAAG;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD,CAAC;AACD,QAAM,YAAQ,0BAAY,MAAM;AAC/B,aAAS;AAAA,MACR,MAAM;AAAA,MACN,OAAO;AAAA,MACP,WAAW;AAAA,IACZ,CAAC;AAAA,EACF,GAAG,CAAC,CAAC;AACL,aAAO,sBAAQ,OAAO;AAAA,IACrB,GAAG;AAAA,IACH;AAAA,IACA;AAAA,IACA;AAAA,EACD,IAAI;AAAA,IACH;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD,CAAC;AACF;AAkDA,SAAS,WAAW,UAAU,CAAC,GAAG;AACjC,QAAM,EAAE,UAAU,MAAM,QAAQ,aAAa,UAAU,eAAe,IAAI;AAC1E,QAAM,EAAE,iBAAiB,mBAAmB,oBAAoB,IAAI,SAAS;AAC7E,QAAM,mBAAe,qBAAO;AAAA,IAC3B;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD,CAAC;AACD,eAAa,UAAU;AAAA,IACtB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD;AACA,QAAM,CAAC,OAAO,QAAQ,QAAI,uBAAS,EAAE,QAAQ,OAAO,CAAC;AACrD,QAAM,YAAY,kBAAkB,kBAAoB,mBAAmB,eAAe,IAAI;AAC9F,QAAM,kBAAc,0BAAY,CAAC,aAAa;AAhf/C;AAifE,aAAS,QAAQ;AACjB,6BAAa,SAAQ,mBAArB,4BAAsC,SAAS;AAAA,EAChD,GAAG,CAAC,CAAC;AACL,QAAM,UAAM,0BAAY,OAAO,WAAW;AApf3C;AAqfE,QAAI,CAAC,qBAAqB;AACzB,YAAM,QAAwB,IAAI,MAAM,+CAA+C;AACvF,cAAQ,KAAK,sBAAsB,MAAM,OAAO;AAChD,YAAM,SAAS;AAAA,QACd,QAAQ;AAAA,QACR,WAAW;AAAA,QACX;AAAA,MACD;AACA,kBAAY,MAAM;AAClB,+BAAa,SAAQ,aAArB,4BAAgC,WAAW;AAC3C,aAAO;AAAA,IACR;AACA,QAAI,mBAAmB,CAAC,kBAAoB,mBAAmB,eAAe,GAAG;AAChF,YAAM,QAAQ,IAAI,wBAAwB,mBAAmB,iBAAiB,oBAAsB,iBAAiB,CAAC;AACtH,YAAM,SAAS;AAAA,QACd,QAAQ;AAAA,QACR,WAAW;AAAA,QACX;AAAA,MACD;AACA,kBAAY,MAAM;AAClB,+BAAa,SAAQ,aAArB,4BAAgC,WAAW;AAC3C,aAAO;AAAA,IACR;AACA,gBAAY,EAAE,QAAQ,UAAU,CAAC;AACjC,QAAI;AACH,YAAM,WAAW,MAAM,QAAQ,mBAAmB,QAAQ,oBAAoB,EAAE,QAAQ,CAAC;AACzF,UAAI,SAAS,WAAW,QAAQ;AAC/B,cAAM,SAAS,SAAS,UAAU;AAClC,cAAM,WAAW;AAAA,UAChB,QAAQ;AAAA,UACR;AAAA,QACD;AACA,oBAAY,QAAQ;AACpB,iCAAa,SAAQ,WAArB,4BAA8B;AAC9B,eAAO;AAAA,MACR;AACA,UAAI,SAAS,WAAW,aAAa;AACpC,cAAM,WAAW,EAAE,QAAQ,YAAY;AACvC,oBAAY,QAAQ;AACpB,iCAAa,SAAQ,gBAArB;AACA,eAAO;AAAA,MACR;AACA,YAAM,YAAY,SAAS,aAAa;AACxC,YAAM,SAAS;AAAA,QACd,QAAQ;AAAA,QACR;AAAA,MACD;AACA,kBAAY,MAAM;AAClB,+BAAa,SAAQ,aAArB,4BAAgC;AAChC,aAAO;AAAA,IACR,SAAS,KAAK;AACb,YAAM,QAAQ,eAAe,QAAQ,MAAM,IAAI,MAAM,OAAO,GAAG,CAAC;AAChE,UAAI,eAAe,YAAa,SAAQ,KAAK,oCAAoC,IAAI,OAAO;AAC5F,YAAM,SAAS;AAAA,QACd,QAAQ;AAAA,QACR,WAAW;AAAA,QACX;AAAA,MACD;AACA,kBAAY,MAAM;AAClB,+BAAa,SAAQ,aAArB,4BAAgC,WAAW;AAC3C,aAAO;AAAA,IACR;AAAA,EACD,GAAG;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD,CAAC;AACD,QAAM,YAAQ,0BAAY,MAAM;AAC/B,gBAAY,EAAE,QAAQ,OAAO,CAAC;AAAA,EAC/B,GAAG,CAAC,WAAW,CAAC;AAChB,aAAO,sBAAQ,OAAO;AAAA,IACrB,QAAQ,MAAM;AAAA,IACd,WAAW,MAAM,WAAW;AAAA,IAC5B,QAAQ,MAAM,WAAW;AAAA,IACzB,aAAa,MAAM,WAAW;AAAA,IAC9B,UAAU,MAAM,WAAW;AAAA,IAC3B,QAAQ,MAAM;AAAA,IACd,WAAW,MAAM;AAAA,IACjB,OAAO,MAAM;AAAA,IACb;AAAA,IACA;AAAA,IACA;AAAA,EACD,IAAI;AAAA,IACH;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD,CAAC;AACF;",
  "names": ["emitter", "off", "eventName", "BridgeError"]
}
